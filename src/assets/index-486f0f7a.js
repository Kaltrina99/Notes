(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pm={exports:{}},Ds={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jf=Object.getOwnPropertySymbols,G0=Object.prototype.hasOwnProperty,Q0=Object.prototype.propertyIsEnumerable;function Y0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function X0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var mm=X0()?Object.assign:function(t,e){for(var n,r=Y0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)G0.call(n,o)&&(r[o]=n[o]);if(jf){i=jf(n);for(var u=0;u<i.length;u++)Q0.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},gm={exports:{}},ue={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=mm,ei=60103,vm=60106;ue.Fragment=60107;ue.StrictMode=60108;ue.Profiler=60114;var ym=60109,wm=60110,_m=60112;ue.Suspense=60113;var Em=60115,Sm=60116;if(typeof Symbol=="function"&&Symbol.for){var It=Symbol.for;ei=It("react.element"),vm=It("react.portal"),ue.Fragment=It("react.fragment"),ue.StrictMode=It("react.strict_mode"),ue.Profiler=It("react.profiler"),ym=It("react.provider"),wm=It("react.context"),_m=It("react.forward_ref"),ue.Suspense=It("react.suspense"),Em=It("react.memo"),Sm=It("react.lazy")}var Ff=typeof Symbol=="function"&&Symbol.iterator;function J0(t){return t===null||typeof t!="object"?null:(t=Ff&&t[Ff]||t["@@iterator"],typeof t=="function"?t:null)}function Ms(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm={};function ti(t,e,n){this.props=t,this.context=e,this.refs=Cm,this.updater=n||km}ti.prototype.isReactComponent={};ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ms(85));this.updater.enqueueSetState(this,t,e,"setState")};ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bm(){}bm.prototype=ti.prototype;function Gc(t,e,n){this.props=t,this.context=e,this.refs=Cm,this.updater=n||km}var Qc=Gc.prototype=new bm;Qc.constructor=Gc;Kc(Qc,ti.prototype);Qc.isPureReactComponent=!0;var Yc={current:null},Tm=Object.prototype.hasOwnProperty,Im={key:!0,ref:!0,__self:!0,__source:!0};function Pm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Tm.call(e,r)&&!Im.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ei,type:t,key:s,ref:o,props:i,_owner:Yc.current}}function Z0(t,e){return{$$typeof:ei,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ei}function e1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bf=/\/+/g;function ju(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e1(""+t.key):e.toString(36)}function Do(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ei:case vm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ju(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Bf,"$&/")+"/"),Do(i,e,n,"",function(c){return c})):i!=null&&(Xc(i)&&(i=Z0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+ju(s,u);o+=Do(s,e,n,l,i)}else if(l=J0(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+ju(s,u++),o+=Do(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Ms(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function oo(t,e,n){if(t==null)return t;var r=[],i=0;return Do(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Am={current:null};function un(){var t=Am.current;if(t===null)throw Error(Ms(321));return t}var n1={ReactCurrentDispatcher:Am,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Yc,IsSomeRendererActing:{current:!1},assign:Kc};ue.Children={map:oo,forEach:function(t,e,n){oo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oo(t,function(){e++}),e},toArray:function(t){return oo(t,function(e){return e})||[]},only:function(t){if(!Xc(t))throw Error(Ms(143));return t}};ue.Component=ti;ue.PureComponent=Gc;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;ue.cloneElement=function(t,e,n){if(t==null)throw Error(Ms(267,t));var r=Kc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)Tm.call(e,l)&&!Im.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ei,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:wm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:ym,_context:t},t.Consumer=t};ue.createElement=Pm;ue.createFactory=function(t){var e=Pm.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:_m,render:t}};ue.isValidElement=Xc;ue.lazy=function(t){return{$$typeof:Sm,_payload:{_status:-1,_result:t},_init:t1}};ue.memo=function(t,e){return{$$typeof:Em,type:t,compare:e===void 0?null:e}};ue.useCallback=function(t,e){return un().useCallback(t,e)};ue.useContext=function(t,e){return un().useContext(t,e)};ue.useDebugValue=function(){};ue.useEffect=function(t,e){return un().useEffect(t,e)};ue.useImperativeHandle=function(t,e,n){return un().useImperativeHandle(t,e,n)};ue.useLayoutEffect=function(t,e){return un().useLayoutEffect(t,e)};ue.useMemo=function(t,e){return un().useMemo(t,e)};ue.useReducer=function(t,e,n){return un().useReducer(t,e,n)};ue.useRef=function(t){return un().useRef(t)};ue.useState=function(t){return un().useState(t)};ue.version="17.0.2";gm.exports=ue;var bt=gm.exports;const Qt=Ns(bt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=bt,Nm=60103;Ds.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Uf=Symbol.for;Nm=Uf("react.element"),Ds.Fragment=Uf("react.fragment")}var i1=r1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s1=Object.prototype.hasOwnProperty,o1={key:!0,ref:!0,__self:!0,__source:!0};function Dm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)s1.call(e,r)&&!o1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Nm,type:t,key:s,ref:o,props:i,_owner:i1.current}}Ds.jsx=Dm;Ds.jsxs=Dm;pm.exports=Ds;var De=pm.exports,Mm={exports:{}},Tt={},Om={exports:{}},Lm={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var A=t.unstable_now();l(!0,A),l=null}catch(V){throw setTimeout(h,0),V}};e=function(A){l!==null?setTimeout(e,0,A):(l=A,setTimeout(h,0))},n=function(A,V){c=setTimeout(A,V)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,y=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,C=null,v=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<A?Math.floor(1e3/A):5};var b=new MessageChannel,a=b.port2;b.port1.onmessage=function(){if(C!==null){var A=t.unstable_now();g=A+m;try{C(!0,A)?a.postMessage(null):(P=!1,C=null)}catch(V){throw a.postMessage(null),V}}else P=!1},e=function(A){C=A,P||(P=!0,a.postMessage(null))},n=function(A,V){v=_(function(){A(t.unstable_now())},V)},r=function(){y(v),v=-1}}function f(A,V){var W=A.length;A.push(V);e:for(;;){var re=W-1>>>1,ie=A[re];if(ie!==void 0&&0<w(ie,V))A[re]=V,A[W]=ie,W=re;else break e}}function d(A){return A=A[0],A===void 0?null:A}function p(A){var V=A[0];if(V!==void 0){var W=A.pop();if(W!==V){A[0]=W;e:for(var re=0,ie=A.length;re<ie;){var he=2*(re+1)-1,_e=A[he],j=he+1,L=A[j];if(_e!==void 0&&0>w(_e,W))L!==void 0&&0>w(L,_e)?(A[re]=L,A[j]=W,re=j):(A[re]=_e,A[he]=W,re=he);else if(L!==void 0&&0>w(L,W))A[re]=L,A[j]=W,re=j;else break e}}return V}return null}function w(A,V){var W=A.sortIndex-V.sortIndex;return W!==0?W:A.id-V.id}var E=[],S=[],I=1,R=null,N=3,M=!1,O=!1,k=!1;function D(A){for(var V=d(S);V!==null;){if(V.callback===null)p(S);else if(V.startTime<=A)p(S),V.sortIndex=V.expirationTime,f(E,V);else break;V=d(S)}}function B(A){if(k=!1,D(A),!O)if(d(E)!==null)O=!0,e(U);else{var V=d(S);V!==null&&n(B,V.startTime-A)}}function U(A,V){O=!1,k&&(k=!1,r()),M=!0;var W=N;try{for(D(V),R=d(E);R!==null&&(!(R.expirationTime>V)||A&&!t.unstable_shouldYield());){var re=R.callback;if(typeof re=="function"){R.callback=null,N=R.priorityLevel;var ie=re(R.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?R.callback=ie:R===d(E)&&p(E),D(V)}else p(E);R=d(E)}if(R!==null)var he=!0;else{var _e=d(S);_e!==null&&n(B,_e.startTime-V),he=!1}return he}finally{R=null,N=W,M=!1}}var se=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){O||M||(O=!0,e(U))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return d(E)},t.unstable_next=function(A){switch(N){case 1:case 2:case 3:var V=3;break;default:V=N}var W=N;N=V;try{return A()}finally{N=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=se,t.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=N;N=A;try{return V()}finally{N=W}},t.unstable_scheduleCallback=function(A,V,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,A={id:I++,callback:V,priorityLevel:A,startTime:W,expirationTime:ie,sortIndex:-1},W>re?(A.sortIndex=W,f(S,A),d(E)===null&&A===d(S)&&(k?r():k=!0,n(B,W-re))):(A.sortIndex=ie,f(E,A),O||M||(O=!0,e(U))),A},t.unstable_wrapCallback=function(A){var V=N;return function(){var W=N;N=V;try{return A.apply(this,arguments)}finally{N=W}}}})(Lm);Om.exports=Lm;var a1=Om.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=bt,we=mm,je=a1;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!La)throw Error(z(227));var Rm=new Set,ts={};function or(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(ts[t]=e,t=0;t<e.length;t++)Rm.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vf=Object.prototype.hasOwnProperty,Hf={},qf={};function l1(t){return Vf.call(qf,t)?!0:Vf.call(Hf,t)?!1:u1.test(t)?qf[t]=!0:(Hf[t]=!0,!1)}function c1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d1(t,e,n,r){if(e===null||typeof e>"u"||c1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function Zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jc,Zc);qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jc,Zc);qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jc,Zc);qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function ed(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(d1(e,n,i,r)&&(n=null),r||i===null?l1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=La.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=60103,Un=60106,dn=60107,td=60108,zi=60114,nd=60109,rd=60110,Ra=60112,ji=60113,Wo=60120,$a=60115,id=60116,sd=60121,od=60128,$m=60129,ad=60130,Ol=60131;if(typeof Symbol=="function"&&Symbol.for){var xe=Symbol.for;Ai=xe("react.element"),Un=xe("react.portal"),dn=xe("react.fragment"),td=xe("react.strict_mode"),zi=xe("react.profiler"),nd=xe("react.provider"),rd=xe("react.context"),Ra=xe("react.forward_ref"),ji=xe("react.suspense"),Wo=xe("react.suspense_list"),$a=xe("react.memo"),id=xe("react.lazy"),sd=xe("react.block"),xe("react.scope"),od=xe("react.opaque.id"),$m=xe("react.debug_trace_mode"),ad=xe("react.offscreen"),Ol=xe("react.legacy_hidden")}var Wf=typeof Symbol=="function"&&Symbol.iterator;function pi(t){return t===null||typeof t!="object"?null:(t=Wf&&t[Wf]||t["@@iterator"],typeof t=="function"?t:null)}var Fu;function Ni(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var Bu=!1;function ao(t,e){if(!t||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ni(t):""}function f1(t){switch(t.tag){case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 2:case 15:return t=ao(t.type,!1),t;case 11:return t=ao(t.type.render,!1),t;case 22:return t=ao(t.type._render,!1),t;case 1:return t=ao(t.type,!0),t;default:return""}}function Ir(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case Un:return"Portal";case zi:return"Profiler";case td:return"StrictMode";case ji:return"Suspense";case Wo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rd:return(t.displayName||"Context")+".Consumer";case nd:return(t._context.displayName||"Context")+".Provider";case Ra:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case $a:return Ir(t.type);case sd:return Ir(t._render);case id:e=t._payload,t=t._init;try{return Ir(t(e))}catch{}}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function xm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h1(t){var e=xm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uo(t){t._valueTracker||(t._valueTracker=h1(t))}function zm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ko(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ll(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jm(t,e){e=e.checked,e!=null&&ed(t,"checked",e,!1)}function Rl(t,e){jm(t,e);var n=Tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$l(t,e.type,n):e.hasOwnProperty("defaultValue")&&$l(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $l(t,e,n){(e!=="number"||Ko(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function p1(t){var e="";return La.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function xl(t,e){return t=we({children:void 0},e),(e=p1(e.children))&&(t.children=e),t}function Pr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function Fm(t,e){var n=Tn(e.value),r=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var jl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Bm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lo,Um=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==jl.svg||"innerHTML"in t)t.innerHTML=e;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m1=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(t){m1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fi[e]=Fi[t]})});function Vm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fi.hasOwnProperty(t)&&Fi[t]?(""+e).trim():e+"px"}function Hm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var g1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(t,e){if(e){if(g1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ul(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ud(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vl=null,Ar=null,Nr=null;function Xf(t){if(t=Ls(t)){if(typeof Vl!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ua(e),Vl(t.stateNode,t.type,e))}}function qm(t){Ar?Nr?Nr.push(t):Nr=[t]:Ar=t}function Wm(){if(Ar){var t=Ar,e=Nr;if(Nr=Ar=null,Xf(t),e)for(t=0;t<e.length;t++)Xf(e[t])}}function ld(t,e){return t(e)}function Km(t,e,n,r,i){return t(e,n,r,i)}function cd(){}var Gm=ld,Vn=!1,Uu=!1;function dd(){(Ar!==null||Nr!==null)&&(cd(),Wm())}function v1(t,e,n){if(Uu)return t(e,n);Uu=!0;try{return Gm(t,e,n)}finally{Uu=!1,dd()}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ua(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Hl=!1;if(nn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Hl=!1}function y1(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Bi=!1,Go=null,Qo=!1,ql=null,w1={onError:function(t){Bi=!0,Go=t}};function _1(t,e,n,r,i,s,o,u,l){Bi=!1,Go=null,y1.apply(w1,arguments)}function E1(t,e,n,r,i,s,o,u,l){if(_1.apply(this,arguments),Bi){if(Bi){var c=Go;Bi=!1,Go=null}else throw Error(z(198));Qo||(Qo=!0,ql=c)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jf(t){if(ur(t)!==t)throw Error(z(188))}function S1(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jf(i),t;if(s===r)return Jf(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Ym(t){if(t=S1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Zf(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Xm,fd,Jm,Zm,Wl=!1,$t=[],mn=null,gn=null,vn=null,is=new Map,ss=new Map,gi=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kl(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function th(t,e){switch(t){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function vi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Kl(e,n,r,i,s),e!==null&&(e=Ls(e),e!==null&&fd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k1(t,e,n,r,i){switch(e){case"focusin":return mn=vi(mn,t,e,n,r,i),!0;case"dragenter":return gn=vi(gn,t,e,n,r,i),!0;case"mouseover":return vn=vi(vn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return is.set(s,vi(is.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ss.set(s,vi(ss.get(s)||null,t,e,n,r,i)),!0}return!1}function C1(t){var e=Hn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=Qm(n),e!==null){t.blockedOn=e,Zm(t.lanePriority,function(){je.unstable_runWithPriority(t.priority,function(){Jm(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Ls(n),e!==null&&fd(e),t.blockedOn=n,!1;e.shift()}return!0}function nh(t,e,n){Mo(t)&&n.delete(e)}function b1(){for(Wl=!1;0<$t.length;){var t=$t[0];if(t.blockedOn!==null){t=Ls(t.blockedOn),t!==null&&Xm(t);break}for(var e=t.targetContainers;0<e.length;){var n=gd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&$t.shift()}mn!==null&&Mo(mn)&&(mn=null),gn!==null&&Mo(gn)&&(gn=null),vn!==null&&Mo(vn)&&(vn=null),is.forEach(nh),ss.forEach(nh)}function yi(t,e){t.blockedOn===e&&(t.blockedOn=null,Wl||(Wl=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,b1)))}function eg(t){function e(i){return yi(i,t)}if(0<$t.length){yi($t[0],t);for(var n=1;n<$t.length;n++){var r=$t[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mn!==null&&yi(mn,t),gn!==null&&yi(gn,t),vn!==null&&yi(vn,t),is.forEach(e),ss.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&gi.shift()}function co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yr={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Vu={},tg={};nn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function xa(t){if(Vu[t])return Vu[t];if(!yr[t])return t;var e=yr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tg)return Vu[t]=e[n];return t}var ng=xa("animationend"),rg=xa("animationiteration"),ig=xa("animationstart"),sg=xa("transitionend"),og=new Map,hd=new Map,T1=["abort","abort",ng,"animationEnd",rg,"animationIteration",ig,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",sg,"transitionEnd","waiting","waiting"];function pd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),hd.set(r,e),og.set(r,i),or(i,[r])}}var I1=je.unstable_now;I1();var fe=8;function pr(t){if(1&t)return fe=15,1;if(2&t)return fe=14,2;if(4&t)return fe=13,4;var e=24&t;return e!==0?(fe=12,e):t&32?(fe=11,32):(e=192&t,e!==0?(fe=10,e):t&256?(fe=9,256):(e=3584&t,e!==0?(fe=8,e):t&4096?(fe=7,4096):(e=4186112&t,e!==0?(fe=6,e):(e=62914560&t,e!==0?(fe=5,e):t&67108864?(fe=4,67108864):t&134217728?(fe=3,134217728):(e=805306368&t,e!==0?(fe=2,e):1073741824&t?(fe=1,1073741824):(fe=8,t))))))}function P1(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function A1(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(z(358,t))}}function os(t,e){var n=t.pendingLanes;if(n===0)return fe=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=fe=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=pr(l),i=fe):(u&=s,u!==0&&(r=pr(u),i=fe))}else s=n&~o,s!==0?(r=pr(s),i=fe):u!==0&&(r=pr(u),i=fe);if(r===0)return 0;if(r=31-In(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(pr(e),i<=fe)return e;fe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function ag(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yo(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=mr(24&~e),t===0?Yo(10,e):t;case 10:return t=mr(192&~e),t===0?Yo(8,e):t;case 8:return t=mr(3584&~e),t===0&&(t=mr(4186112&~e),t===0&&(t=512)),t;case 2:return e=mr(805306368&~e),e===0&&(e=268435456),e}throw Error(z(358,t))}function mr(t){return t&-t}function Hu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-In(e),t[e]=n}var In=Math.clz32?Math.clz32:M1,N1=Math.log,D1=Math.LN2;function M1(t){return t===0?32:31-(N1(t)/D1|0)|0}var O1=je.unstable_UserBlockingPriority,L1=je.unstable_runWithPriority,Oo=!0;function R1(t,e,n,r){Vn||cd();var i=md,s=Vn;Vn=!0;try{Km(i,t,e,n,r)}finally{(Vn=s)||dd()}}function $1(t,e,n,r){L1(O1,md.bind(null,t,e,n,r))}function md(t,e,n,r){if(Oo){var i;if((i=(e&4)===0)&&0<$t.length&&-1<eh.indexOf(t))t=Kl(null,t,e,n,r),$t.push(t);else{var s=gd(t,e,n,r);if(s===null)i&&th(t,r);else{if(i){if(-1<eh.indexOf(t)){t=Kl(s,t,e,n,r),$t.push(t);return}if(k1(s,t,e,n,r))return;th(t,r)}_g(t,e,r,null,n)}}}}function gd(t,e,n,r){var i=ud(r);if(i=Hn(i),i!==null){var s=ur(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Qm(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return _g(t,e,r,i,n),null}var fn=null,vd=null,Lo=null;function ug(){if(Lo)return Lo;var t,e=vd,n=e.length,r,i="value"in fn?fn.value:fn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Lo=i.slice(t,1<r?1-r:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function rh(){return!1}function gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fo:rh,this.isPropagationStopped=rh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),e}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=gt(ni),Os=we({},ni,{view:0,detail:0}),x1=gt(Os),qu,Wu,wi,ja=we({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(qu=t.screenX-wi.screenX,Wu=t.screenY-wi.screenY):Wu=qu=0,wi=t),qu)},movementY:function(t){return"movementY"in t?t.movementY:Wu}}),ih=gt(ja),z1=we({},ja,{dataTransfer:0}),j1=gt(z1),F1=we({},Os,{relatedTarget:0}),Ku=gt(F1),B1=we({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=gt(B1),V1=we({},ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H1=gt(V1),q1=we({},ni,{data:0}),sh=gt(q1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G1[t])?!!e[t]:!1}function wd(){return Q1}var Y1=we({},Os,{key:function(t){if(t.key){var e=W1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X1=gt(Y1),J1=we({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=gt(J1),Z1=we({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),ew=gt(Z1),tw=we({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),nw=gt(tw),rw=we({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iw=gt(rw),sw=[9,13,27,32],_d=nn&&"CompositionEvent"in window,Ui=null;nn&&"documentMode"in document&&(Ui=document.documentMode);var ow=nn&&"TextEvent"in window&&!Ui,lg=nn&&(!_d||Ui&&8<Ui&&11>=Ui),ah=String.fromCharCode(32),uh=!1;function cg(t,e){switch(t){case"keyup":return sw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function aw(t,e){switch(t){case"compositionend":return dg(e);case"keypress":return e.which!==32?null:(uh=!0,ah);case"textInput":return t=e.data,t===ah&&uh?null:t;default:return null}}function uw(t,e){if(wr)return t==="compositionend"||!_d&&cg(t,e)?(t=ug(),Lo=vd=fn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lg&&e.locale!=="ko"?null:e.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lw[t.type]:e==="textarea"}function fg(t,e,n,r){qm(r),e=Xo(e,"onChange"),0<e.length&&(n=new yd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vi=null,as=null;function cw(t){vg(t,0)}function Fa(t){var e=Er(t);if(zm(e))return t}function dw(t,e){if(t==="change")return e}var hg=!1;if(nn){var Gu;if(nn){var Qu="oninput"in document;if(!Qu){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),Qu=typeof ch.oninput=="function"}Gu=Qu}else Gu=!1;hg=Gu&&(!document.documentMode||9<document.documentMode)}function dh(){Vi&&(Vi.detachEvent("onpropertychange",pg),as=Vi=null)}function pg(t){if(t.propertyName==="value"&&Fa(as)){var e=[];if(fg(e,as,t,ud(t)),t=cw,Vn)t(e);else{Vn=!0;try{ld(t,e)}finally{Vn=!1,dd()}}}}function fw(t,e,n){t==="focusin"?(dh(),Vi=e,as=n,Vi.attachEvent("onpropertychange",pg)):t==="focusout"&&dh()}function hw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(as)}function pw(t,e){if(t==="click")return Fa(e)}function mw(t,e){if(t==="input"||t==="change")return Fa(e)}function gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:gw,vw=Object.prototype.hasOwnProperty;function us(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!vw.call(e,n[r])||!yt(t[n[r]],e[n[r]]))return!1;return!0}function fh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hh(t,e){var n=fh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fh(n)}}function mg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ph(){for(var t=window,e=Ko();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ko(t.document)}return e}function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var yw=nn&&"documentMode"in document&&11>=document.documentMode,_r=null,Ql=null,Hi=null,Yl=!1;function mh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||_r==null||_r!==Ko(r)||(r=_r,"selectionStart"in r&&Gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&us(Hi,r)||(Hi=r,r=Xo(Ql,"onSelect"),0<r.length&&(e=new yd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}pd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);pd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);pd(T1,2);for(var gh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Yu=0;Yu<gh.length;Yu++)hd.set(gh[Yu],0);Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function vh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E1(r,e,void 0,t),t.currentTarget=null}function vg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;vh(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;vh(i,u,c),s=l}}}if(Qo)throw t=ql,Qo=!1,ql=null,t}function pe(t,e){var n=Sg(e),r=t+"__bubble";n.has(r)||(wg(e,t,2,!1),n.add(r))}var yh="_reactListening"+Math.random().toString(36).slice(2);function yg(t){t[yh]||(t[yh]=!0,Rm.forEach(function(e){gg.has(e)||wh(e,!1,t,null),wh(e,!0,t,null)}))}function wh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&gg.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Sg(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),wg(s,t,i,e),o.add(u))}function wg(t,e,n,r){var i=hd.get(e);switch(i===void 0?2:i){case 0:i=R1;break;case 1:i=$1;break;default:i=md}n=i.bind(null,e,n,t),i=void 0,!Hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _g(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Hn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}v1(function(){var c=s,h=ud(n),_=[];e:{var y=og.get(t);if(y!==void 0){var T=yd,P=t;switch(t){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":T=X1;break;case"focusin":P="focus",T=Ku;break;case"focusout":P="blur",T=Ku;break;case"beforeblur":case"afterblur":T=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=j1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=ew;break;case ng:case rg:case ig:T=U1;break;case sg:T=nw;break;case"scroll":T=x1;break;case"wheel":T=iw;break;case"copy":case"cut":case"paste":T=H1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=oh}var C=(e&4)!==0,v=!C&&t==="scroll",m=C?y!==null?y+"Capture":null:y;C=[];for(var g=c,b;g!==null;){b=g;var a=b.stateNode;if(b.tag===5&&a!==null&&(b=a,m!==null&&(a=rs(g,m),a!=null&&C.push(ls(g,a,b)))),v)break;g=g.return}0<C.length&&(y=new T(y,P,null,n,h),_.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",y&&!(e&16)&&(P=n.relatedTarget||n.fromElement)&&(Hn(P)||P[ri]))break e;if((T||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,T?(P=n.relatedTarget||n.toElement,T=c,P=P?Hn(P):null,P!==null&&(v=ur(P),P!==v||P.tag!==5&&P.tag!==6)&&(P=null)):(T=null,P=c),T!==P)){if(C=ih,a="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=oh,a="onPointerLeave",m="onPointerEnter",g="pointer"),v=T==null?y:Er(T),b=P==null?y:Er(P),y=new C(a,g+"leave",T,n,h),y.target=v,y.relatedTarget=b,a=null,Hn(h)===c&&(C=new C(m,g+"enter",P,n,h),C.target=b,C.relatedTarget=v,a=C),v=a,T&&P)t:{for(C=T,m=P,g=0,b=C;b;b=hr(b))g++;for(b=0,a=m;a;a=hr(a))b++;for(;0<g-b;)C=hr(C),g--;for(;0<b-g;)m=hr(m),b--;for(;g--;){if(C===m||m!==null&&C===m.alternate)break t;C=hr(C),m=hr(m)}C=null}else C=null;T!==null&&_h(_,y,T,C,!1),P!==null&&v!==null&&_h(_,v,P,C,!0)}}e:{if(y=c?Er(c):window,T=y.nodeName&&y.nodeName.toLowerCase(),T==="select"||T==="input"&&y.type==="file")var f=dw;else if(lh(y))if(hg)f=mw;else{f=hw;var d=fw}else(T=y.nodeName)&&T.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(f=pw);if(f&&(f=f(t,c))){fg(_,f,n,h);break e}d&&d(t,y,c),t==="focusout"&&(d=y._wrapperState)&&d.controlled&&y.type==="number"&&$l(y,"number",y.value)}switch(d=c?Er(c):window,t){case"focusin":(lh(d)||d.contentEditable==="true")&&(_r=d,Ql=c,Hi=null);break;case"focusout":Hi=Ql=_r=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,mh(_,n,h);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":mh(_,n,h)}var p;if(_d)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else wr?cg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(lg&&n.locale!=="ko"&&(wr||w!=="onCompositionStart"?w==="onCompositionEnd"&&wr&&(p=ug()):(fn=h,vd="value"in fn?fn.value:fn.textContent,wr=!0)),d=Xo(c,w),0<d.length&&(w=new sh(w,t,null,n,h),_.push({event:w,listeners:d}),p?w.data=p:(p=dg(n),p!==null&&(w.data=p)))),(p=ow?aw(t,n):uw(t,n))&&(c=Xo(c,"onBeforeInput"),0<c.length&&(h=new sh("onBeforeInput","beforeinput",null,n,h),_.push({event:h,listeners:c}),h.data=p))}vg(_,e)})}function ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rs(t,n),s!=null&&r.unshift(ls(t,s,i)),s=rs(t,e),s!=null&&r.push(ls(t,s,i))),t=t.return}return r}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _h(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=rs(n,s),l!=null&&o.unshift(ls(n,l,u))):i||(l=rs(n,s),l!=null&&o.push(ls(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Jo(){}var Xu=null,Ju=null;function Eg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Xl(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eh=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0;function Ed(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Sh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zu=0;function _w(t){return{$$typeof:od,toString:t,valueOf:t}}var Ba=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ba,Zo="__reactProps$"+Ba,ri="__reactContainer$"+Ba,kh="__reactEvents$"+Ba;function Hn(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sh(t);t!==null;){if(n=t[hn])return n;t=Sh(t)}return e}t=n,n=t.parentNode}return null}function Ls(t){return t=t[hn]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ua(t){return t[Zo]||null}function Sg(t){var e=t[kh];return e===void 0&&(e=t[kh]=new Set),e}var Jl=[],Sr=-1;function Ln(t){return{current:t}}function me(t){0>Sr||(t.current=Jl[Sr],Jl[Sr]=null,Sr--)}function ke(t,e){Sr++,Jl[Sr]=t.current,t.current=e}var Pn={},rt=Ln(Pn),ct=Ln(!1),er=Pn;function Ur(t,e){var n=t.type.contextTypes;if(!n)return Pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function ea(){me(ct),me(rt)}function Ch(t,e,n){if(rt.current!==Pn)throw Error(z(168));ke(rt,e),ke(ct,n)}function kg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Ir(e)||"Unknown",i));return we({},n,r)}function $o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,er=rt.current,ke(rt,t),ke(ct,ct.current),!0}function bh(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=kg(t,e,er),r.__reactInternalMemoizedMergedChildContext=t,me(ct),me(rt),ke(rt,t)):me(ct),ke(ct,n)}var Sd=null,Yn=null,Ew=je.unstable_runWithPriority,kd=je.unstable_scheduleCallback,Zl=je.unstable_cancelCallback,Sw=je.unstable_shouldYield,Th=je.unstable_requestPaint,ec=je.unstable_now,kw=je.unstable_getCurrentPriorityLevel,Va=je.unstable_ImmediatePriority,Cg=je.unstable_UserBlockingPriority,bg=je.unstable_NormalPriority,Tg=je.unstable_LowPriority,Ig=je.unstable_IdlePriority,el={},Cw=Th!==void 0?Th:function(){},Yt=null,xo=null,tl=!1,Ih=ec(),Ze=1e4>Ih?ec:function(){return ec()-Ih};function Vr(){switch(kw()){case Va:return 99;case Cg:return 98;case bg:return 97;case Tg:return 96;case Ig:return 95;default:throw Error(z(332))}}function Pg(t){switch(t){case 99:return Va;case 98:return Cg;case 97:return bg;case 96:return Tg;case 95:return Ig;default:throw Error(z(332))}}function tr(t,e){return t=Pg(t),Ew(t,e)}function cs(t,e,n){return t=Pg(t),kd(t,e,n)}function Wt(){if(xo!==null){var t=xo;xo=null,Zl(t)}Ag()}function Ag(){if(!tl&&Yt!==null){tl=!0;var t=0;try{var e=Yt;tr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Yt=null}catch(n){throw Yt!==null&&(Yt=Yt.slice(t+1)),kd(Va,Wt),n}finally{tl=!1}}}var bw=ar.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ta=Ln(null),na=null,kr=null,ra=null;function Cd(){ra=kr=na=null}function bd(t){var e=ta.current;me(ta),t.type._context._currentValue=e}function Ng(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Mr(t,e){na=t,ra=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function kt(t,e){if(ra!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ra=t,e=1073741823),e={context:t,observedBits:e,next:null},kr===null){if(na===null)throw Error(z(308));kr=e,na.dependencies={lanes:0,firstContext:e,responders:null}}else kr=kr.next=e;return t._currentValue}var cn=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Dg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Ph(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ds(t,e,n,r){var i=t.updateQueue;cn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var _=h.lastBaseUpdate;_!==o&&(_===null?h.firstBaseUpdate=c:_.next=c,h.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,h=c=l=null;do{u=s.lane;var y=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,P=s;switch(u=e,y=n,P.tag){case 1:if(T=P.payload,typeof T=="function"){_=T.call(y,_,u);break e}_=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=P.payload,u=typeof T=="function"?T.call(y,_,u):T,u==null)break e;_=we({},_,u);break e;case 2:cn=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else y={eventTime:y,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=y,l=_):h=h.next=y,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);h===null&&(l=_),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,$s|=o,t.lanes=o,t.memoizedState=_}}function Ah(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Mg=new La.Component().refs;function ia(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ha={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),i=_n(t),s=yn(r,i);s.payload=e,n!=null&&(s.callback=n),wn(t,s),En(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),i=_n(t),s=yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),wn(t,s),En(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=_n(t),i=yn(n,r);i.tag=2,e!=null&&(i.callback=e),wn(t,i),En(t,r,n)}};function Nh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!us(n,r)||!us(i,s):!0}function Og(t,e,n){var r=!1,i=Pn,s=e.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=dt(e)?er:rt.current,r=e.contextTypes,s=(r=r!=null)?Ur(t,i):Pn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ha,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ha.enqueueReplaceState(e,e.state,null)}function tc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Mg,Td(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=dt(e)?er:rt.current,i.context=Ur(t,s)),ds(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ia(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ha.enqueueReplaceState(i,i.state,null),ds(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var ho=Array.isArray;function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Mg&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function po(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Lg(t){function e(v,m){if(t){var g=v.lastEffect;g!==null?(g.nextEffect=m,v.lastEffect=m):v.firstEffect=v.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Nn(v,m),v.index=0,v.sibling=null,v}function s(v,m,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags=2,m):g):(v.flags=2,m)):m}function o(v){return t&&v.alternate===null&&(v.flags=2),v}function u(v,m,g,b){return m===null||m.tag!==6?(m=ol(g,v.mode,b),m.return=v,m):(m=i(m,g),m.return=v,m)}function l(v,m,g,b){return m!==null&&m.elementType===g.type?(b=i(m,g.props),b.ref=_i(v,m,g),b.return=v,b):(b=Bo(g.type,g.key,g.props,null,v.mode,b),b.ref=_i(v,m,g),b.return=v,b)}function c(v,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=al(g,v.mode,b),m.return=v,m):(m=i(m,g.children||[]),m.return=v,m)}function h(v,m,g,b,a){return m===null||m.tag!==7?(m=$r(g,v.mode,b,a),m.return=v,m):(m=i(m,g),m.return=v,m)}function _(v,m,g){if(typeof m=="string"||typeof m=="number")return m=ol(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ai:return g=Bo(m.type,m.key,m.props,null,v.mode,g),g.ref=_i(v,null,m),g.return=v,g;case Un:return m=al(m,v.mode,g),m.return=v,m}if(ho(m)||pi(m))return m=$r(m,v.mode,g,null),m.return=v,m;po(v,m)}return null}function y(v,m,g,b){var a=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return a!==null?null:u(v,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ai:return g.key===a?g.type===dn?h(v,m,g.props.children,b,a):l(v,m,g,b):null;case Un:return g.key===a?c(v,m,g,b):null}if(ho(g)||pi(g))return a!==null?null:h(v,m,g,b,null);po(v,g)}return null}function T(v,m,g,b,a){if(typeof b=="string"||typeof b=="number")return v=v.get(g)||null,u(m,v,""+b,a);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ai:return v=v.get(b.key===null?g:b.key)||null,b.type===dn?h(m,v,b.props.children,a,b.key):l(m,v,b,a);case Un:return v=v.get(b.key===null?g:b.key)||null,c(m,v,b,a)}if(ho(b)||pi(b))return v=v.get(g)||null,h(m,v,b,a,null);po(m,b)}return null}function P(v,m,g,b){for(var a=null,f=null,d=m,p=m=0,w=null;d!==null&&p<g.length;p++){d.index>p?(w=d,d=null):w=d.sibling;var E=y(v,d,g[p],b);if(E===null){d===null&&(d=w);break}t&&d&&E.alternate===null&&e(v,d),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,d=w}if(p===g.length)return n(v,d),a;if(d===null){for(;p<g.length;p++)d=_(v,g[p],b),d!==null&&(m=s(d,m,p),f===null?a=d:f.sibling=d,f=d);return a}for(d=r(v,d);p<g.length;p++)w=T(d,v,p,g[p],b),w!==null&&(t&&w.alternate!==null&&d.delete(w.key===null?p:w.key),m=s(w,m,p),f===null?a=w:f.sibling=w,f=w);return t&&d.forEach(function(S){return e(v,S)}),a}function C(v,m,g,b){var a=pi(g);if(typeof a!="function")throw Error(z(150));if(g=a.call(g),g==null)throw Error(z(151));for(var f=a=null,d=m,p=m=0,w=null,E=g.next();d!==null&&!E.done;p++,E=g.next()){d.index>p?(w=d,d=null):w=d.sibling;var S=y(v,d,E.value,b);if(S===null){d===null&&(d=w);break}t&&d&&S.alternate===null&&e(v,d),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S,d=w}if(E.done)return n(v,d),a;if(d===null){for(;!E.done;p++,E=g.next())E=_(v,E.value,b),E!==null&&(m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return a}for(d=r(v,d);!E.done;p++,E=g.next())E=T(d,v,p,E.value,b),E!==null&&(t&&E.alternate!==null&&d.delete(E.key===null?p:E.key),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return t&&d.forEach(function(I){return e(v,I)}),a}return function(v,m,g,b){var a=typeof g=="object"&&g!==null&&g.type===dn&&g.key===null;a&&(g=g.props.children);var f=typeof g=="object"&&g!==null;if(f)switch(g.$$typeof){case Ai:e:{for(f=g.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(g.type===dn){n(v,a.sibling),m=i(a,g.props.children),m.return=v,v=m;break e}break;default:if(a.elementType===g.type){n(v,a.sibling),m=i(a,g.props),m.ref=_i(v,a,g),m.return=v,v=m;break e}}n(v,a);break}else e(v,a);a=a.sibling}g.type===dn?(m=$r(g.props.children,v.mode,b,g.key),m.return=v,v=m):(b=Bo(g.type,g.key,g.props,null,v.mode,b),b.ref=_i(v,m,g),b.return=v,v=b)}return o(v);case Un:e:{for(a=g.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(v,m.sibling),m=i(m,g.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=al(g,v.mode,b),m.return=v,v=m}return o(v)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,g),m.return=v,v=m):(n(v,m),m=ol(g,v.mode,b),m.return=v,v=m),o(v);if(ho(g))return P(v,m,g,b);if(pi(g))return C(v,m,g,b);if(f&&po(v,g),typeof g>"u"&&!a)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(z(152,Ir(v.type)||"Component"))}return n(v,m)}}var sa=Lg(!0),Rg=Lg(!1),Rs={},jt=Ln(Rs),fs=Ln(Rs),hs=Ln(Rs);function qn(t){if(t===Rs)throw Error(z(174));return t}function nc(t,e){switch(ke(hs,e),ke(fs,t),ke(jt,Rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fl(e,t)}me(jt),ke(jt,e)}function Hr(){me(jt),me(fs),me(hs)}function Mh(t){qn(hs.current);var e=qn(jt.current),n=Fl(e,t.type);e!==n&&(ke(fs,t),ke(jt,n))}function Id(t){fs.current===t&&(me(jt),me(fs))}var Se=Ln(0);function oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jt=null,pn=null,Ft=!1;function $g(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Oh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function rc(t){if(Ft){var e=pn;if(e){var n=e;if(!Oh(t,e)){if(e=Dr(n.nextSibling),!e||!Oh(t,e)){t.flags=t.flags&-1025|2,Ft=!1,Jt=t;return}$g(Jt,n)}Jt=t,pn=Dr(e.firstChild)}else t.flags=t.flags&-1025|2,Ft=!1,Jt=t}}function Lh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function mo(t){if(t!==Jt)return!1;if(!Ft)return Lh(t),Ft=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Xl(e,t.memoizedProps))for(e=pn;e;)$g(t,e),e=Dr(e.nextSibling);if(Lh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=Jt?Dr(t.stateNode.nextSibling):null;return!0}function nl(){pn=Jt=null,Ft=!1}var Or=[];function Pd(){for(var t=0;t<Or.length;t++)Or[t]._workInProgressVersionPrimary=null;Or.length=0}var qi=ar.ReactCurrentDispatcher,Et=ar.ReactCurrentBatchConfig,ps=0,Ie=null,Qe=null,Be=null,aa=!1,Wi=!1;function ut(){throw Error(z(321))}function Ad(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,i,s){if(ps=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qi.current=t===null||t.memoizedState===null?Iw:Pw,t=n(r,i),Wi){s=0;do{if(Wi=!1,!(25>s))throw Error(z(301));s+=1,Be=Qe=null,e.updateQueue=null,qi.current=Aw,t=n(r,i)}while(Wi)}if(qi.current=da,e=Qe!==null&&Qe.next!==null,ps=0,Be=Qe=Ie=null,aa=!1,e)throw Error(z(300));return t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ie.memoizedState=Be=t:Be=Be.next=t,Be}function lr(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Be===null?Ie.memoizedState:Be.next;if(e!==null)Be=e,Qe=t;else{if(t===null)throw Error(z(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Be===null?Ie.memoizedState=Be=t:Be=Be.next=t}return Be}function xt(t,e){return typeof e=="function"?e(t):e}function Ei(t){var e=lr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((ps&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Ie.lanes|=c,$s|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,yt(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Si(t){var e=lr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yt(s,e.memoizedState)||(Ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rh(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(ps&t)===t)&&(e._workInProgressVersionPrimary=r,Or.push(e))),t)return n(e._source);throw Or.push(e),Error(z(350))}function xg(t,e,n,r){var i=ot;if(i===null)throw Error(z(349));var s=e._getVersion,o=s(e._source),u=qi.current,l=u.useState(function(){return Rh(i,e,n)}),c=l[1],h=l[0];l=Be;var _=t.memoizedState,y=_.refs,T=y.getSnapshot,P=_.source;_=_.subscribe;var C=Ie;return t.memoizedState={refs:y,source:e,subscribe:r},u.useEffect(function(){y.getSnapshot=n,y.setSnapshot=c;var v=s(e._source);if(!yt(o,v)){v=n(e._source),yt(h,v)||(c(v),v=_n(C),i.mutableReadLanes|=v&i.pendingLanes),v=i.mutableReadLanes,i.entangledLanes|=v;for(var m=i.entanglements,g=v;0<g;){var b=31-In(g),a=1<<b;m[b]|=v,g&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var v=y.getSnapshot,m=y.setSnapshot;try{m(v(e._source));var g=_n(C);i.mutableReadLanes|=g&i.pendingLanes}catch(b){m(function(){throw b})}})},[e,r]),yt(T,n)&&yt(P,e)&&yt(_,r)||(t={pending:null,dispatch:null,lastRenderedReducer:xt,lastRenderedState:h},t.dispatch=c=Od.bind(null,Ie,t),l.queue=t,l.baseQueue=null,h=Rh(i,e,n),l.memoizedState=l.baseState=h),h}function zg(t,e,n){var r=lr();return xg(r,t,e,n)}function ki(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:xt,lastRenderedState:t},t=t.dispatch=Od.bind(null,Ie,t),[e.memoizedState,t]}function ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $h(t){var e=Wn();return t={current:t},e.memoizedState=t}function la(){return lr().memoizedState}function ic(t,e,n,r){var i=Wn();Ie.flags|=t,i.memoizedState=ua(1|e,n,void 0,r===void 0?null:r)}function Dd(t,e,n,r){var i=lr();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&Ad(r,o.deps)){ua(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=ua(1|e,n,s,r)}function xh(t,e){return ic(516,4,t,e)}function ca(t,e){return Dd(516,4,t,e)}function jg(t,e){return Dd(4,2,t,e)}function Fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bg(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4,2,Fg.bind(null,e,t),n)}function Md(){}function Ug(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ad(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vg(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ad(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tw(t,e){var n=Vr();tr(98>n?98:n,function(){t(!0)}),tr(97<n?97:n,function(){var r=Et.transition;Et.transition=1;try{t(!1),e()}finally{Et.transition=r}})}function Od(t,e,n){var r=pt(),i=_n(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Ie||o!==null&&o===Ie)Wi=aa=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,yt(l,u))return}catch{}finally{}En(t,i,r)}}var da={readContext:kt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useOpaqueIdentifier:ut,unstable_isNewReconciler:!1},Iw={readContext:kt,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:xh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ic(4,2,Fg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Od.bind(null,Ie,t),[r.memoizedState,t]},useRef:$h,useState:ki,useDebugValue:Md,useDeferredValue:function(t){var e=ki(t),n=e[0],r=e[1];return xh(function(){var i=Et.transition;Et.transition=1;try{r(t)}finally{Et.transition=i}},[t]),n},useTransition:function(){var t=ki(!1),e=t[0];return t=Tw.bind(null,t[1]),$h(t),[t,e]},useMutableSource:function(t,e,n){var r=Wn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},xg(r,t,e,n)},useOpaqueIdentifier:function(){if(Ft){var t=!1,e=_w(function(){throw t||(t=!0,n("r:"+(Zu++).toString(36))),Error(z(355))}),n=ki(e)[1];return!(Ie.mode&2)&&(Ie.flags|=516,ua(5,function(){n("r:"+(Zu++).toString(36))},void 0,null)),e}return e="r:"+(Zu++).toString(36),ki(e),e},unstable_isNewReconciler:!1},Pw={readContext:kt,useCallback:Ug,useContext:kt,useEffect:ca,useImperativeHandle:Bg,useLayoutEffect:jg,useMemo:Vg,useReducer:Ei,useRef:la,useState:function(){return Ei(xt)},useDebugValue:Md,useDeferredValue:function(t){var e=Ei(xt),n=e[0],r=e[1];return ca(function(){var i=Et.transition;Et.transition=1;try{r(t)}finally{Et.transition=i}},[t]),n},useTransition:function(){var t=Ei(xt)[0];return[la().current,t]},useMutableSource:zg,useOpaqueIdentifier:function(){return Ei(xt)[0]},unstable_isNewReconciler:!1},Aw={readContext:kt,useCallback:Ug,useContext:kt,useEffect:ca,useImperativeHandle:Bg,useLayoutEffect:jg,useMemo:Vg,useReducer:Si,useRef:la,useState:function(){return Si(xt)},useDebugValue:Md,useDeferredValue:function(t){var e=Si(xt),n=e[0],r=e[1];return ca(function(){var i=Et.transition;Et.transition=1;try{r(t)}finally{Et.transition=i}},[t]),n},useTransition:function(){var t=Si(xt)[0];return[la().current,t]},useMutableSource:zg,useOpaqueIdentifier:function(){return Si(xt)[0]},unstable_isNewReconciler:!1},Nw=ar.ReactCurrentOwner,Ot=!1;function lt(t,e,n,r){e.child=t===null?Rg(e,null,n,r):sa(e,t.child,n,r)}function zh(t,e,n,r,i){n=n.render;var s=e.ref;return Mr(e,i),r=Nd(t,e,n,r,s,i),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zt(t,e,i)):(e.flags|=1,lt(t,e,r,i),e.child)}function jh(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!jd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Hg(t,e,o,r,i,s)):(t=Bo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:us,n(i,r)&&t.ref===e.ref)?Zt(t,e,s):(e.flags|=1,t=Nn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Hg(t,e,n,r,i,s){if(t!==null&&us(t.memoizedProps,r)&&t.ref===e.ref)if(Ot=!1,(s&i)!==0)t.flags&16384&&(Ot=!0);else return e.lanes=t.lanes,Zt(t,e,s);return sc(t,e,n,r,s)}function rl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},vo(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},vo(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},vo(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,vo(e,r);return lt(t,e,i,n),e.child}function qg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function sc(t,e,n,r,i){var s=dt(n)?er:rt.current;return s=Ur(e,s),Mr(e,i),n=Nd(t,e,n,r,s,i),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zt(t,e,i)):(e.flags|=1,lt(t,e,n,i),e.child)}function Fh(t,e,n,r,i){if(dt(n)){var s=!0;$o(e)}else s=!1;if(Mr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Og(e,n,r),tc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=dt(n)?er:rt.current,c=Ur(e,c));var h=n.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&Dh(e,o,r,c),cn=!1;var y=e.memoizedState;o.state=y,ds(e,r,o,i),l=e.memoizedState,u!==r||y!==l||ct.current||cn?(typeof h=="function"&&(ia(e,n,h,r),l=e.memoizedState),(u=cn||Nh(e,n,u,r,y,l,c))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Dg(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Mt(e.type,u),o.props=c,_=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=dt(n)?er:rt.current,l=Ur(e,l));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||y!==l)&&Dh(e,o,r,l),cn=!1,y=e.memoizedState,o.state=y,ds(e,r,o,i);var P=e.memoizedState;u!==_||y!==P||ct.current||cn?(typeof T=="function"&&(ia(e,n,T,r),P=e.memoizedState),(c=cn||Nh(e,n,c,r,y,P,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),r=!1)}return oc(t,e,n,r,s,i)}function oc(t,e,n,r,i,s){qg(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&bh(e,n,!1),Zt(t,e,s);r=e.stateNode,Nw.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sa(e,t.child,null,s),e.child=sa(e,null,u,s)):lt(t,e,u,s),e.memoizedState=r.state,i&&bh(e,n,!0),e.child}function Bh(t){var e=t.stateNode;e.pendingContext?Ch(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ch(t,e.context,!1),nc(t,e.containerInfo)}var go={dehydrated:null,retryLane:0};function Uh(t,e,n){var r=e.pendingProps,i=Se.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ke(Se,i&1),t===null?(r.fallback!==void 0&&rc(e),t=r.children,i=r.fallback,s?(t=Vh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=go,t):typeof r.unstable_expectedLoadTime=="number"?(t=Vh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=go,e.lanes=33554432,t):(n=Fd({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=qh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=go,r):(n=Hh(t,e,r.children,n),e.memoizedState=null,n):s?(r=qh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=go,r):(n=Hh(t,e,r.children,n),e.memoizedState=null,n)}function Vh(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Fd(e,i,0,null),n=$r(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Hh(t,e,n,r){var i=t.child;return t=i.sibling,n=Nn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function qh(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Nn(o,u),t!==null?r=Nn(t,r):(r=$r(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Wh(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ng(t.return,e)}function il(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Kh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wh(t,n);else if(t.tag===19)Wh(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Se,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),il(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}il(e,!0,n,null,s,e.lastEffect);break;case"together":il(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Wg,ac,Kg,Gg;Wg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ac=function(){};Kg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(jt.current);var s=null;switch(n){case"input":i=Ll(t,i),r=Ll(t,r),s=[];break;case"option":i=xl(t,i),r=xl(t,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=zl(t,i),r=zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jo)}Bl(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ts.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ts.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===od?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Gg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ci(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dw(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return dt(e.type)&&ea(),null;case 3:return Hr(),me(ct),me(rt),Pd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),ac(e),null;case 5:Id(e);var i=qn(hs.current);if(n=e.type,t!==null&&e.stateNode!=null)Kg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=qn(jt.current),mo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hn]=e,r[Zo]=s,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(t=0;t<Di.length;t++)pe(Di[t],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Kf(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Qf(r,s),pe("invalid",r)}Bl(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ts.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&pe("scroll",r));switch(n){case"input":uo(r),Gf(r,s,!0);break;case"textarea":uo(r),Yf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jo)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===jl.html&&(t=Bm(n)),t===jl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[Zo]=r,Wg(t,e,!1,!1),e.stateNode=t,o=Ul(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Di.length;i++)pe(Di[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Kf(t,r),i=Ll(t,r),pe("invalid",t);break;case"option":i=xl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Qf(t,r),i=zl(t,r),pe("invalid",t);break;default:i=r}Bl(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Hm(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Um(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ns(t,l):typeof l=="number"&&ns(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ts.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&ed(t,s,l,o))}switch(n){case"input":uo(t),Gf(t,r,!1);break;case"textarea":uo(t),Yf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jo)}Eg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Gg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=qn(hs.current),qn(jt.current),mo(e)?(r=e.stateNode,n=e.memoizedProps,r[hn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r)}return null;case 13:return me(Se),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&mo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Se.current&1?Ve===0&&(Ve=3):((Ve===0||Ve===3)&&(Ve=4),ot===null||!($s&134217727)&&!(si&134217727)||Lr(ot,et))),(r||n)&&(e.flags|=4),null);case 4:return Hr(),ac(e),t===null&&yg(e.stateNode.containerInfo),null;case 10:return bd(e),null;case 17:return dt(e.type)&&ea(),null;case 19:if(me(Se),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Ci(r,!1);else{if(Ve!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=oa(t),o!==null){for(e.flags|=64,Ci(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Se,Se.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ze()>hc&&(e.flags|=64,s=!0,Ci(r,!1),e.lanes=33554432)}else{if(!s)if(t=oa(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ci(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Ft)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ze()-r.renderingStartTime>hc&&n!==1073741824&&(e.flags|=64,s=!0,Ci(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ze(),n.sibling=null,e=Se.current,ke(Se,s?e&1|2:e&1),n):null;case 23:case 24:return zd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(z(156,e.tag))}function Mw(t){switch(t.tag){case 1:dt(t.type)&&ea();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Hr(),me(ct),me(rt),Pd(),e=t.flags,e&64)throw Error(z(285));return t.flags=e&-4097|64,t;case 5:return Id(t),null;case 13:return me(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return me(Se),null;case 4:return Hr(),null;case 10:return bd(t),null;case 23:case 24:return zd(),null;default:return null}}function Ld(t,e){try{var n="",r=e;do n+=f1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ow=typeof WeakMap=="function"?WeakMap:Map;function Qg(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ha||(ha=!0,pc=r),uc(t,e)},n}function Yg(t,e,n){n=yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return uc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this),uc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var Lw=typeof WeakSet=="function"?WeakSet:Set;function Gh(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Sn(t,n)}else e.current=null}function Rw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Mt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ed(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(z(163))}function $w(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(sv(n,t),Hw(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Mt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Ah(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Ah(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Eg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&eg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(z(163))}function Qh(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Vm("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Yh(t,e){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Sd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)sv(e,n);else{r=e;try{i()}catch(s){Sn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Gh(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Sn(e,s)}break;case 5:Gh(e);break;case 4:Xg(t,e)}}function Xh(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Jh(t){return t.tag===5||t.tag===3||t.tag===4}function Zh(t){e:{for(var e=t.return;e!==null;){if(Jh(e))break e;e=e.return}throw Error(z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.flags&16&&(ns(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Jh(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?lc(t,n,e):cc(t,n,e)}function lc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jo));else if(r!==4&&(t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function cc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}function Xg(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(z(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(Yh(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Yh(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function sl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Zo]=r,t==="input"&&r.type==="radio"&&r.name!=null&&jm(n,r),Ul(t,i),e=Ul(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?Hm(n,u):o==="dangerouslySetInnerHTML"?Um(n,u):o==="children"?ns(n,u):ed(n,o,u,e)}switch(t){case"input":Rl(n,r);break;case"textarea":Fm(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Pr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Pr(n,!!r.multiple,r.defaultValue,!0):Pr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,eg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(xd=Ze(),Qh(e.child,!0)),ep(e);return;case 19:ep(e);return;case 17:return;case 23:case 24:Qh(e,e.memoizedState!==null);return}throw Error(z(163))}function ep(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lw),e.forEach(function(r){var i=Kw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var zw=Math.ceil,fa=ar.ReactCurrentDispatcher,Rd=ar.ReactCurrentOwner,X=0,ot=null,Oe=null,et=0,nr=0,dc=Ln(0),Ve=0,qa=null,ii=0,$s=0,si=0,$d=0,fc=null,xd=0,hc=1/0;function oi(){hc=Ze()+500}var H=null,ha=!1,pc=null,zt=null,An=!1,Ki=null,Mi=90,mc=[],gc=[],tn=null,Gi=0,vc=null,zo=-1,Xt=0,jo=0,Qi=null,Fo=!1;function pt(){return X&48?Ze():zo!==-1?zo:zo=Ze()}function _n(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Vr()===99?1:2;if(Xt===0&&(Xt=ii),bw.transition!==0){jo!==0&&(jo=fc!==null?fc.pendingLanes:0),t=Xt;var e=4186112&~jo;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Vr(),X&4&&t===98?t=Yo(12,Xt):(t=P1(t),t=Yo(t,Xt)),t}function En(t,e,n){if(50<Gi)throw Gi=0,vc=null,Error(z(185));if(t=Wa(t,e),t===null)return null;za(t,e,n),t===ot&&(si|=e,Ve===4&&Lr(t,et));var r=Vr();e===1?X&8&&!(X&48)?yc(t):(Ct(t,n),X===0&&(oi(),Wt())):(!(X&4)||r!==98&&r!==99||(tn===null?tn=new Set([t]):tn.add(t)),Ct(t,n)),fc=t}function Wa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Ct(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-In(o),l=1<<u,c=s[u];if(c===-1){if(!(l&r)||l&i){c=e,pr(l);var h=fe;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=os(t,t===ot?et:0),e=fe,r===0)n!==null&&(n!==el&&Zl(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==el&&Zl(n)}e===15?(n=yc.bind(null,t),Yt===null?(Yt=[n],xo=kd(Va,Ag)):Yt.push(n),n=el):e===14?n=cs(99,yc.bind(null,t)):(n=A1(e),n=cs(n,Jg.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Jg(t){if(zo=-1,jo=Xt=0,X&48)throw Error(z(327));var e=t.callbackNode;if(Rn()&&t.callbackNode!==e)return null;var n=os(t,t===ot?et:0);if(n===0)return null;var r=n,i=X;X|=16;var s=nv();(ot!==t||et!==r)&&(oi(),Rr(t,r));do try{Bw();break}catch(u){tv(t,u)}while(1);if(Cd(),fa.current=s,X=i,Oe!==null?r=0:(ot=null,et=0,r=Ve),ii&si)Rr(t,0);else if(r!==0){if(r===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Ed(t.containerInfo)),n=ag(t),n!==0&&(r=Oi(t,n))),r===1)throw e=qa,Rr(t,0),Lr(t,n),Ct(t,Ze()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(z(345));case 2:Fn(t);break;case 3:if(Lr(t,n),(n&62914560)===n&&(r=xd+500-Ze(),10<r)){if(os(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Eh(Fn.bind(null,t),r);break}Fn(t);break;case 4:if(Lr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-In(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zw(n/1960))-n,10<n){t.timeoutHandle=Eh(Fn.bind(null,t),n);break}Fn(t);break;case 5:Fn(t);break;default:throw Error(z(329))}}return Ct(t,Ze()),t.callbackNode===e?Jg.bind(null,t):null}function Lr(t,e){for(e&=~$d,e&=~si,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function yc(t){if(X&48)throw Error(z(327));if(Rn(),t===ot&&t.expiredLanes&et){var e=et,n=Oi(t,e);ii&si&&(e=os(t,e),n=Oi(t,e))}else e=os(t,0),n=Oi(t,e);if(t.tag!==0&&n===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Ed(t.containerInfo)),e=ag(t),e!==0&&(n=Oi(t,e))),n===1)throw n=qa,Rr(t,0),Lr(t,e),Ct(t,Ze()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t),Ct(t,Ze()),null}function jw(){if(tn!==null){var t=tn;tn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ct(e,Ze())})}Wt()}function Zg(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}}function ev(t,e){var n=X;X&=-2,X|=8;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}}function vo(t,e){ke(dc,nr),nr|=e,ii|=e}function zd(){nr=dc.current,me(dc)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ww(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ea();break;case 3:Hr(),me(ct),me(rt),Pd();break;case 5:Id(r);break;case 4:Hr();break;case 13:me(Se);break;case 19:me(Se);break;case 10:bd(r);break;case 23:case 24:zd()}n=n.return}ot=t,Oe=Nn(t.current,null),et=nr=ii=e,Ve=0,qa=null,$d=si=$s=0}function tv(t,e){do{var n=Oe;try{if(Cd(),qi.current=da,aa){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}aa=!1}if(ps=0,Be=Qe=Ie=null,Wi=!1,Rd.current=null,n===null||n.return===null){Ve=1,qa=e,Oe=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=et,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Se.current&1)!==0,y=o;do{var T;if(T=y.tag===13){var P=y.memoizedState;if(P!==null)T=P.dehydrated!==null;else{var C=y.memoizedProps;T=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!_}}if(T){var v=y.updateQueue;if(v===null){var m=new Set;m.add(c),y.updateQueue=m}else v.add(c);if(!(y.mode&2)){if(y.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var g=yn(-1,1);g.tag=2,wn(u,g)}u.lanes|=1;break e}l=void 0,u=e;var b=s.pingCache;if(b===null?(b=s.pingCache=new Ow,l=new Set,b.set(c,l)):(l=b.get(c),l===void 0&&(l=new Set,b.set(c,l))),!l.has(u)){l.add(u);var a=Ww.bind(null,s,c,u);c.then(a,a)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);l=Error((Ir(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ve!==5&&(Ve=2),l=Ld(l,u),y=o;do{switch(y.tag){case 3:s=l,y.flags|=4096,e&=-e,y.lanes|=e;var f=Qg(y,s,e);Ph(y,f);break e;case 1:s=l;var d=y.type,p=y.stateNode;if(!(y.flags&64)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zt===null||!zt.has(p)))){y.flags|=4096,e&=-e,y.lanes|=e;var w=Yg(y,s,e);Ph(y,w);break e}}y=y.return}while(y!==null)}iv(n)}catch(E){e=E,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function nv(){var t=fa.current;return fa.current=da,t===null?da:t}function Oi(t,e){var n=X;X|=16;var r=nv();ot===t&&et===e||Rr(t,e);do try{Fw();break}catch(i){tv(t,i)}while(1);if(Cd(),X=n,fa.current=r,Oe!==null)throw Error(z(261));return ot=null,et=0,Ve}function Fw(){for(;Oe!==null;)rv(Oe)}function Bw(){for(;Oe!==null&&!Sw();)rv(Oe)}function rv(t){var e=ov(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?iv(t):Oe=e,Rd.current=null}function iv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=Mw(e),n!==null){n.flags&=2047,Oe=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=Dw(n,e,nr),n!==null){Oe=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||nr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Ve===0&&(Ve=5)}function Fn(t){var e=Vr();return tr(99,Uw.bind(null,t,e)),null}function Uw(t,e){do Rn();while(Ki!==null);if(X&48)throw Error(z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-In(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(tn!==null&&!(r&24)&&tn.has(t)&&tn.delete(t),t===ot&&(Oe=ot=null,et=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=X,X|=32,Rd.current=null,Xu=Oo,o=ph(),Gl(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,_=-1,y=-1,T=0,P=0,C=o,v=null;t:for(;;){for(var m;C!==u||s!==0&&C.nodeType!==3||(_=h+s),C!==l||c!==0&&C.nodeType!==3||(y=h+c),C.nodeType===3&&(h+=C.nodeValue.length),(m=C.firstChild)!==null;)v=C,C=m;for(;;){if(C===o)break t;if(v===u&&++T===s&&(_=h),v===l&&++P===c&&(y=h),(m=C.nextSibling)!==null)break;C=v,v=C.parentNode}C=m}u=_===-1||y===-1?null:{start:_,end:y}}else u=null;u=u||{start:0,end:0}}else u=null;Ju={focusedElem:o,selectionRange:u},Oo=!1,Qi=null,Fo=!1,H=r;do try{Vw()}catch(E){if(H===null)throw Error(z(330));Sn(H,E),H=H.nextEffect}while(H!==null);Qi=null,H=r;do try{for(o=t;H!==null;){var g=H.flags;if(g&16&&ns(H.stateNode,""),g&128){var b=H.alternate;if(b!==null){var a=b.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(g&1038){case 2:Zh(H),H.flags&=-3;break;case 6:Zh(H),H.flags&=-3,sl(H.alternate,H);break;case 1024:H.flags&=-1025;break;case 1028:H.flags&=-1025,sl(H.alternate,H);break;case 4:sl(H.alternate,H);break;case 8:u=H,Xg(o,u);var f=u.alternate;Xh(u),f!==null&&Xh(f)}H=H.nextEffect}}catch(E){if(H===null)throw Error(z(330));Sn(H,E),H=H.nextEffect}while(H!==null);if(a=Ju,b=ph(),g=a.focusedElem,o=a.selectionRange,b!==g&&g&&g.ownerDocument&&mg(g.ownerDocument.documentElement,g)){for(o!==null&&Gl(g)&&(b=o.start,a=o.end,a===void 0&&(a=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(a,g.value.length)):(a=(b=g.ownerDocument||document)&&b.defaultView||window,a.getSelection&&(a=a.getSelection(),u=g.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=hh(g,f),s=hh(g,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(b=b.createRange(),b.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(b),a.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),a.addRange(b)))))),b=[],a=g;a=a.parentNode;)a.nodeType===1&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<b.length;g++)a=b[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Oo=!!Xu,Ju=Xu=null,t.current=n,H=r;do try{for(g=t;H!==null;){var d=H.flags;if(d&36&&$w(g,H.alternate,H),d&128){b=void 0;var p=H.ref;if(p!==null){var w=H.stateNode;switch(H.tag){case 5:b=w;break;default:b=w}typeof p=="function"?p(b):p.current=b}}H=H.nextEffect}}catch(E){if(H===null)throw Error(z(330));Sn(H,E),H=H.nextEffect}while(H!==null);H=null,Cw(),X=i}else t.current=n;if(An)An=!1,Ki=t,Mi=e;else for(H=r;H!==null;)e=H.nextEffect,H.nextEffect=null,H.flags&8&&(d=H,d.sibling=null,d.stateNode=null),H=e;if(r=t.pendingLanes,r===0&&(zt=null),r===1?t===vc?Gi++:(Gi=0,vc=t):Gi=0,n=n.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Sd,n,void 0,(n.current.flags&64)===64)}catch{}if(Ct(t,Ze()),ha)throw ha=!1,t=pc,pc=null,t;return X&8||Wt(),null}function Vw(){for(;H!==null;){var t=H.alternate;Fo||Qi===null||(H.flags&8?Zf(H,Qi)&&(Fo=!0):H.tag===13&&xw(t,H)&&Zf(H,Qi)&&(Fo=!0));var e=H.flags;e&256&&Rw(t,H),!(e&512)||An||(An=!0,cs(97,function(){return Rn(),null})),H=H.nextEffect}}function Rn(){if(Mi!==90){var t=97<Mi?97:Mi;return Mi=90,tr(t,qw)}return!1}function Hw(t,e){mc.push(e,t),An||(An=!0,cs(97,function(){return Rn(),null}))}function sv(t,e){gc.push(e,t),An||(An=!0,cs(97,function(){return Rn(),null}))}function qw(){if(Ki===null)return!1;var t=Ki;if(Ki=null,X&48)throw Error(z(331));var e=X;X|=32;var n=gc;gc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(z(330));Sn(s,l)}}for(n=mc,mc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(z(330));Sn(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return X=e,Wt(),!0}function tp(t,e,n){e=Ld(n,e),e=Qg(t,e,1),wn(t,e),e=pt(),t=Wa(t,1),t!==null&&(za(t,1,e),Ct(t,e))}function Sn(t,e){if(t.tag===3)tp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){tp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=Ld(e,t);var i=Yg(n,t,1);if(wn(n,i),i=pt(),n=Wa(n,1),n!==null)za(n,1,i),Ct(n,i);else if(typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Ww(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(et&n)===n&&(Ve===4||Ve===3&&(et&62914560)===et&&500>Ze()-xd?Rr(t,0):$d|=n),Ct(t,e)}function Kw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Xt===0&&(Xt=ii),e=mr(62914560&~Xt),e===0&&(e=4194304)):e=Vr()===99?1:2:e=1),n=pt(),t=Wa(t,e),t!==null&&(za(t,e,n),Ct(t,n))}var ov;ov=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)Ot=!0;else if(n&r)Ot=!!(t.flags&16384);else{switch(Ot=!1,e.tag){case 3:Bh(e),nl();break;case 5:Mh(e);break;case 1:dt(e.type)&&$o(e);break;case 4:nc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ke(ta,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Uh(t,e,n):(ke(Se,Se.current&1),e=Zt(t,e,n),e!==null?e.sibling:null);ke(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Kh(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Se,Se.current),r)break;return null;case 23:case 24:return e.lanes=0,rl(t,e,n)}return Zt(t,e,n)}else Ot=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ur(e,rt.current),Mr(e,n),i=Nd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)){var s=!0;$o(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ia(e,r,o,t),i.updater=Ha,e.stateNode=i,i._reactInternals=e,tc(e,r,t,n),e=oc(null,e,r,!0,s,n)}else e.tag=0,lt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Qw(i),t=Mt(i,t),s){case 0:e=sc(null,e,i,t,n);break e;case 1:e=Fh(null,e,i,t,n);break e;case 11:e=zh(null,e,i,t,n);break e;case 14:e=jh(null,e,i,Mt(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),sc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Fh(t,e,r,i,n);case 3:if(Bh(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Dg(t,e),ds(e,r,null,n),r=e.memoizedState.element,r===i)nl(),e=Zt(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(pn=Dr(e.stateNode.containerInfo.firstChild),Jt=e,s=Ft=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Or.push(s);for(n=Rg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else lt(t,e,r,n),nl();e=e.child}return e;case 5:return Mh(e),t===null&&rc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xl(r,i)?o=null:s!==null&&Xl(r,s)&&(e.flags|=16),qg(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&rc(e),null;case 13:return Uh(t,e,n);case 4:return nc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),zh(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(ke(ta,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=yt(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!ct.current){e=Zt(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){u.tag===1&&(c=yn(-1,n&-n),c.tag=2,wn(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),Ng(u.return,n),l.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Mr(e,n),i=kt(i,s.unstable_observedBits),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return i=e.type,s=Mt(i,e.pendingProps),s=Mt(i.type,s),jh(t,e,i,s,r,n);case 15:return Hg(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,dt(r)?(t=!0,$o(e)):t=!1,Mr(e,n),Og(e,r,i),tc(e,r,i,n),oc(null,e,r,!0,t,n);case 19:return Kh(t,e,n);case 23:return rl(t,e,n);case 24:return rl(t,e,n)}throw Error(z(156,e.tag))};function Gw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new Gw(t,e,n,r)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qw(t){if(typeof t=="function")return jd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ra)return 11;if(t===$a)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dn:return $r(n.children,i,s,e);case $m:o=8,i|=16;break;case td:o=8,i|=1;break;case zi:return t=wt(12,n,e,i|8),t.elementType=zi,t.type=zi,t.lanes=s,t;case ji:return t=wt(13,n,e,i),t.type=ji,t.elementType=ji,t.lanes=s,t;case Wo:return t=wt(19,n,e,i),t.elementType=Wo,t.lanes=s,t;case ad:return Fd(n,i,s,e);case Ol:return t=wt(24,n,e,i),t.elementType=Ol,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nd:o=10;break e;case rd:o=9;break e;case Ra:o=11;break e;case $a:o=14;break e;case id:o=16,r=null;break e;case sd:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $r(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function Fd(t,e,n,r){return t=wt(23,t,r,e),t.elementType=ad,t.lanes=n,t}function ol(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function al(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yw(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.mutableSourceEagerHydrationData=null}function Xw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pa(t,e,n,r){var i=e.current,s=pt(),o=_n(i);e:if(n){n=n._reactInternals;t:{if(ur(n)!==n||n.tag!==1)throw Error(z(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(dt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(dt(l)){n=kg(n,l,u);break e}}n=u}else n=Pn;return e.context===null?e.context=n:e.pendingContext=n,e=yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),wn(i,e),En(i,o,s),o}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bd(t,e){np(t,e),(t=t.alternate)&&np(t,e)}function Jw(){return null}function Ud(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Yw(t,e,n!=null&&n.hydrate===!0),e=wt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Td(e),t[ri]=n.current,yg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Ud.prototype.render=function(t){pa(t,this._internalRoot,null,null)};Ud.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;pa(null,t,null,function(){e[ri]=null})};function xs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zw(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ud(t,0,e?{hydrate:!0}:void 0)}function Ka(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=ul(o);u.call(c)}}pa(e,o,t,i)}else{if(s=n._reactRootContainer=Zw(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=ul(o);l.call(c)}}ev(function(){pa(e,o,t,i)})}return ul(o)}Xm=function(t){if(t.tag===13){var e=pt();En(t,4,e),Bd(t,4)}};fd=function(t){if(t.tag===13){var e=pt();En(t,67108864,e),Bd(t,67108864)}};Jm=function(t){if(t.tag===13){var e=pt(),n=_n(t);En(t,n,e),Bd(t,n)}};Zm=function(t,e){return e()};Vl=function(t,e,n){switch(e){case"input":if(Rl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ua(r);if(!i)throw Error(z(90));zm(r),Rl(r,i)}}}break;case"textarea":Fm(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};ld=Zg;Km=function(t,e,n,r,i){var s=X;X|=4;try{return tr(98,t.bind(null,e,n,r,i))}finally{X=s,X===0&&(oi(),Wt())}};cd=function(){!(X&49)&&(jw(),Rn())};Gm=function(t,e){var n=X;X|=2;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}};function av(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xs(e))throw Error(z(200));return Xw(t,e,null,n)}var e3={Events:[Ls,Er,Ua,qm,Wm,Rn,{current:!1}]},bi={findFiberByHostInstance:Hn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},t3={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ym(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||Jw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Sd=yo.inject(t3),Yn=yo}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;Tt.createPortal=av;Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=Ym(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t,e){var n=X;if(n&48)return t(e);X|=1;try{if(t)return tr(99,t.bind(null,e))}finally{X=n,Wt()}};Tt.hydrate=function(t,e,n){if(!xs(e))throw Error(z(200));return Ka(null,t,e,!0,n)};Tt.render=function(t,e,n){if(!xs(e))throw Error(z(200));return Ka(null,t,e,!1,n)};Tt.unmountComponentAtNode=function(t){if(!xs(t))throw Error(z(40));return t._reactRootContainer?(ev(function(){Ka(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Tt.unstable_batchedUpdates=Zg;Tt.unstable_createPortal=function(t,e){return av(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xs(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ka(t,e,n,!1,r)};Tt.version="17.0.2";function uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uv)}catch(t){console.error(t)}}uv(),Mm.exports=Tt;var n3=Mm.exports;const r3=Ns(n3);function i3(t){const e=t.notes.map((n,r)=>De.jsx("div",{children:De.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[De.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),De.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:De.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return De.jsxs("section",{className:"pane sidebar",children:[De.jsxs("div",{className:"sidebar--header",children:[De.jsx("h3",{children:"Notes"}),De.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var ll={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getBreaksNeededForEmptyLineAfter=Ne.getBreaksNeededForEmptyLineBefore=Ne.selectWord=Ne.getSurroundingWord=void 0;function lv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Ne.getSurroundingWord=lv;function s3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?lv(e,n.start):n}Ne.selectWord=s3;function o3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineBefore=o3;function a3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineAfter=a3;var cl={},zs={},ln={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(ln,"__esModule",{value:!0});ln.classNames=void 0;function u3(t){return typeof t=="string"}function l3(t){return Array.isArray(t)&&t.length>0}function c3(t){return typeof t=="object"}function cv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(u3(i))n.push(i);else if(l3(i)){var s=cv.apply(null,i);s&&n.push(s)}else if(c3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}ln.classNames=cv;Object.defineProperty(zs,"__esModule",{value:!0});zs.ToolbarButtonGroup=void 0;var d3=bt,f3=ln,h3=function(t){return d3.createElement("ul",{className:f3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};zs.ToolbarButtonGroup=h3;var js={},Cr=te&&te.__assign||function(){return Cr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cr.apply(this,arguments)};Object.defineProperty(js,"__esModule",{value:!0});js.ToolbarButton=void 0;var rp=bt,p3={tabIndex:-1},m3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Cr(Cr({},p3),r||{}),l=e||"button";return rp.createElement("li",{className:"mde-header-item"},rp.createElement(l,Cr(Cr({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};js.ToolbarButton=m3;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.MdeFontAwesomeIcon=void 0;var g3=bt,v3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return g3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};Fs.MdeFontAwesomeIcon=v3;var Ga={},y3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.Preview=void 0;var wo=bt,w3=ln,_3=function(t){y3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,h=l.loading,_=h?s:c,y;typeof _=="string"?y=wo.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:_||"<p>&nbsp;</p>"},ref:o}):y=wo.createElement("div",{className:"mde-preview-content"},_);var T=i&&u?i+10+u:i+10;return wo.createElement("div",{className:w3.classNames("mde-preview",r,{loading:h}),style:{minHeight:T},"data-testid":"mde-preview"},y)},e}(wo.Component);Ga.Preview=_3;var Qa={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getCaretCoordinates=void 0;var E3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],dv=typeof window<"u",S3=dv&&window.mozInnerScreenX!=null;function k3(t,e){if(!dv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",E3.forEach(function(u){r[u]=i[u]}),S3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}Ya.getCaretCoordinates=k3;var Bs={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Bs,"__esModule",{value:!0});Bs.insertText=void 0;function C3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(b3(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,h=null,_=document.createRange();u&&(c===null||h===null);){var y=u.nodeValue.length;i>=l&&i<=l+y&&_.setStart(c=u,i-l),s>=l&&s<=l+y&&_.setEnd(h=u,s-l),l+=y,u=u.nextSibling}i!==s&&_.deleteContents(),_.insertNode(o)}}else{var T=t.value;t.value=T.slice(0,i)+e+T.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var P=document.createEvent("UIEvent");P.initEvent("input",!0,!1),t.dispatchEvent(P)}}Bs.insertText=C3;function b3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.mod=void 0;function T3(t,e){return(t%e+e)%e}Xa.mod=T3;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.SuggestionsDropdown=void 0;var ip=bt,I3=ln,P3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(C){C.preventDefault();var v=parseInt(C.currentTarget.attributes["data-index"].value);i(v)},c=function(C){return C.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),_=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),y=r.left-u.current.scrollLeft,T=r.top-u.current.scrollTop,P={};return s&&T+u.current.getBoundingClientRect().top>_/2?P.bottom=u.current.offsetHeight-T:P.top=T,s&&y+u.current.getBoundingClientRect().left>h/2?P.right=u.current.offsetWidth-y:P.left=y,ip.createElement("ul",{className:I3.classNames("mde-suggestions",e),style:P},n.map(function(C,v){return ip.createElement("li",{onClick:l,onMouseDown:c,key:v,"aria-selected":o===v?"true":"false","data-index":""+v},C.preview)}))};Us.SuggestionsDropdown=P3;var A3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=te&&te.__assign||function(){return ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ht.apply(this,arguments)};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.TextArea=void 0;var _o=bt,N3=ln,D3=Ya,M3=Bs,O3=Xa,L3=Us,R3=function(t){A3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:ht(ht({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=D3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),M3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var _=o==="ArrowUp"?-1:1;r.setState({mention:ht(ht({},h),{focusIndex:O3.mod(h.focusIndex+_,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:ht(ht({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var _=c.charAt(r.getTextArea().selectionStart-1),y=l.includes(c.charAt(r.getTextArea().selectionStart-1));y&&r.loadEmptySuggestion(i.currentTarget,_)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:ht(ht({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:ht(ht({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,_=r.loadSuggestions,y=r.suggestionsDropdownClasses,T=r.textAreaComponent,P=r.onPaste,C=r.onDrop,v=h&&h.length&&_,m=this.state.mention,g=T||"textarea",b=u&&l?u+l:u;return _o.createElement("div",{className:"mde-textarea-wrapper"},_o.createElement(g,ht({className:N3.classNames("mde-text",i),style:{height:b},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),v&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),v&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),v&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),P(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),C(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&_o.createElement(L3.SuggestionsDropdown,{classes:y,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(_o.Component);Qa.TextArea=R3;var Ja={},$3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=te&&te.__assign||function(){return br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},br.apply(this,arguments)};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.Toolbar=void 0;var jn=bt,dl=ln,x3=zs,z3=js,j3=function(t){$3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,_=i.writeButtonProps,y=i.previewButtonProps,T=i.buttonProps;if((!u||u.length===0)&&!o)return null;var P=jn.createElement("div",{className:"mde-tabs"},jn.createElement("button",br({type:"button",className:dl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},_),r.write),jn.createElement("button",br({type:"button",className:dl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},y),r.preview));return jn.createElement("div",{className:dl.classNames("mde-header",s)},!h&&P,u.map(function(C,v){return jn.createElement(x3.ToolbarButtonGroup,{key:v,hidden:n.props.tab==="preview"},C.map(function(m,g){return jn.createElement(z3.ToolbarButton,{key:g,name:m.commandName,buttonContent:m.buttonContent,buttonProps:br(br({},T||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:c,buttonComponentClass:m.buttonComponentClass})}))}))},e}(jn.Component);Ja.Toolbar=j3;var Ti={},Bt={},Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.headerCommand=void 0;var F3=Ne;function B3(t,e,n){var r=F3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Za.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;B3(e,n,"### ")}};var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.boldCommand=void 0;var U3=Ne;eu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=U3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.italicCommand=void 0;var V3=Ne;tu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=V3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.strikeThroughCommand=void 0;var H3=Ne;nu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=H3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.linkCommand=void 0;var q3=Ne;ru.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=q3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.quoteCommand=void 0;var fl=Ne;iu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=fl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=fl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=fl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var su={};Object.defineProperty(su,"__esModule",{value:!0});su.codeCommand=void 0;var hl=Ne;su.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=hl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=hl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=hl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var _=i.selection.start+u+4,y=_+i.selectedText.length;n.setSelectionRange({start:_,end:y})}};var fv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Ne;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,h){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var _=s(c,h);return u+=_.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),_=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),y=Array(_+1).join(`
`),T=n(l.selectedText,o);s.replaceSelection(""+h+T.modifiedText+y);var P=l.selectedText.indexOf(`
`)===-1?T.insertionLength:0,C=l.selection.start+c+P,v=C+T.modifiedText.length-P;s.setSelectionRange({start:C,end:v})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(fv);var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.imageCommand=void 0;var W3=Ne;ou.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(W3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var au={},uu={},K3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},G3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(uu,"__esModule",{value:!0});uu.readFileAsync=void 0;function Q3(t){return K3(this,void 0,void 0,function(){return G3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}uu.readFileAsync=Q3;var Y3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},X3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(au,"__esModule",{value:!0});au.saveImageCommand=void 0;var J3=uu,Z3=Ne;function sp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function e_(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function t_(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}au.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return Y3(this,void 0,void 0,function(){var i,s,o,u,l,c,h,_,y,T,P,C,v,m,g,b,a,f,d,p,w,E,S,I;return X3(this,function(R){switch(R.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,h=n_(n)?sp(s.clipboardData.items):r_(n)?sp(s.dataTransfer.items):e_(s.target.files),_=t_(h,{multiple:l,accept:c}),y=[];for(T in _)y.push(T);P=0,R.label=1;case 1:return P<y.length?(C=y[P],v=e.getState(),m=Z3.getBreaksNeededForEmptyLineBefore(v.text,v.selection.start),g=Array(m+1).join(`
`),b=g+"!["+r.uploadingImage+"]()",e.replaceSelection(b),a=h[C],[4,J3.readFileAsync(a)]):[3,5];case 2:return f=R.sent(),d=u(f,a),[4,d.next()];case 3:p=R.sent().value,w=e.getState(),E=w.text.substr(v.selection.start,b.length),E===b&&(e.setSelectionRange({start:v.selection.start,end:v.selection.start+b.length}),S=p?g+"![image]("+p+")":"",I=S.length-b.length,e.replaceSelection(S),e.setSelectionRange({start:w.selection.start+I,end:w.selection.end+I})),R.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}};function n_(t){return t.event.clipboardData!==void 0}function r_(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getDefaultSaveImageCommandName=Bt.getDefaultCommandMap=Bt.getDefaultToolbarCommands=void 0;var i_=Za,s_=eu,o_=tu,a_=nu,u_=ru,l_=iu,c_=su,pl=fv,d_=ou,f_=au;function h_(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Bt.getDefaultToolbarCommands=h_;function p_(){return{header:i_.headerCommand,bold:s_.boldCommand,italic:o_.italicCommand,strikethrough:a_.strikeThroughCommand,link:u_.linkCommand,quote:l_.quoteCommand,code:c_.codeCommand,image:d_.imageCommand,"unordered-list":pl.unorderedListCommand,"ordered-list":pl.orderedListCommand,"checked-list":pl.checkedListCommand,"save-image":f_.saveImageCommand}}Bt.getDefaultCommandMap=p_;function m_(){return"save-image"}Bt.getDefaultSaveImageCommandName=m_;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.enL18n=void 0;lu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Vd={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.SvgIcon=void 0;var Ce=bt,g_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),v_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),y_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),w_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),__=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),E_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),S_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),k_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),C_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),b_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),T_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),I_=function(t){var e=t.icon;switch(e){case"header":return b_;case"bold":return T_;case"italic":return C_;case"strikethrough":return k_;case"link":return S_;case"quote":return E_;case"code":return __;case"image":return w_;case"unordered-list":return y_;case"ordered-list":return v_;case"checked-list":return g_;default:return null}};cu.SvgIcon=I_;(function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Fs,t),n(cu,t)})(Vd);var Kt={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.extractKeyActivatedCommands=void 0;function P_(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}du.extractKeyActivatedCommands=P_;var op;function A_(){if(op)return Kt;op=1;var t=te&&te.__assign||function(){return t=Object.assign||function(h){for(var _,y=1,T=arguments.length;y<T;y++){_=arguments[y];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(h[P]=_[P])}return h},t.apply(this,arguments)},e=te&&te.__awaiter||function(h,_,y,T){function P(C){return C instanceof y?C:new y(function(v){v(C)})}return new(y||(y=Promise))(function(C,v){function m(a){try{b(T.next(a))}catch(f){v(f)}}function g(a){try{b(T.throw(a))}catch(f){v(f)}}function b(a){a.done?C(a.value):P(a.value).then(m,g)}b((T=T.apply(h,_||[])).next())})},n=te&&te.__generator||function(h,_){var y={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},T,P,C,v;return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(b){return function(a){return g([b,a])}}function g(b){if(T)throw new TypeError("Generator is already executing.");for(;y;)try{if(T=1,P&&(C=b[0]&2?P.return:b[0]?P.throw||((C=P.return)&&C.call(P),0):P.next)&&!(C=C.call(P,b[1])).done)return C;switch(P=0,C&&(b=[b[0]&2,C.value]),b[0]){case 0:case 1:C=b;break;case 4:return y.label++,{value:b[1],done:!1};case 5:y.label++,P=b[1],b=[0];continue;case 7:b=y.ops.pop(),y.trys.pop();continue;default:if(C=y.trys,!(C=C.length>0&&C[C.length-1])&&(b[0]===6||b[0]===2)){y=0;continue}if(b[0]===3&&(!C||b[1]>C[0]&&b[1]<C[3])){y.label=b[1];break}if(b[0]===6&&y.label<C[1]){y.label=C[1],C=b;break}if(C&&y.label<C[2]){y.label=C[2],y.ops.push(b);break}C[2]&&y.ops.pop(),y.trys.pop();continue}b=_.call(h,y)}catch(a){b=[6,a],P=0}finally{T=C=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.CommandOrchestrator=Kt.getStateFromTextArea=Kt.TextAreaTextApi=void 0;var r=pv(),i=Bs,s=du,o=Bt,u=function(){function h(_){this.textAreaRef=_}return h.prototype.replaceSelection=function(_){var y=this.textAreaRef.current;return i.insertText(y,_),l(y)},h.prototype.setSelectionRange=function(_){var y=this.textAreaRef.current;return y.focus(),y.selectionStart=_.start,y.selectionEnd=_.end,l(y)},h.prototype.getState=function(){var _=this.textAreaRef.current;return l(_)},h}();Kt.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}Kt.getStateFromTextArea=l;var c=function(){function h(_,y,T,P){var C=this;if(this.getCommand=function(v){var m=C.commandMap[v];if(!m)throw new Error("Cannot execute command. Command not found: "+v);return m},this.handlePossibleKeyCommand=function(v){for(var m=0,g=C.keyActivatedCommands;m<g.length;m++){var b=g[m];if(C.getCommand(b).handleKeyCommand(v))return C.executeCommand(b).then(function(a){}),!0}return!1},P&&!P.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),_||{}),this.pasteOptions=P,this.keyActivatedCommands=s.extractKeyActivatedCommands(_),this.textAreaRef=y,this.textApi=new u(y),this.l18n=T}return h.prototype.executeCommand=function(_,y){return e(this,void 0,void 0,function(){var T,P;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,T=this.commandMap[_],P=T.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:y}),[4,P]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeDropCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeSelectImageCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.getCommandByName=function(_){return this.commandMap[_]},h}();return Kt.CommandOrchestrator=c,Kt}var ap;function N_(){if(ap)return Ti;ap=1;var t=te&&te.__extends||function(){var T=function(P,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])},T(P,C)};return function(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(P,C);function v(){this.constructor=P}P.prototype=C===null?Object.create(C):(v.prototype=C.prototype,new v)}}(),e=te&&te.__assign||function(){return e=Object.assign||function(T){for(var P,C=1,v=arguments.length;C<v;C++){P=arguments[C];for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(T[m]=P[m])}return T},e.apply(this,arguments)},n=te&&te.__awaiter||function(T,P,C,v){function m(g){return g instanceof C?g:new C(function(b){b(g)})}return new(C||(C=Promise))(function(g,b){function a(p){try{d(v.next(p))}catch(w){b(w)}}function f(p){try{d(v.throw(p))}catch(w){b(w)}}function d(p){p.done?g(p.value):m(p.value).then(a,f)}d((v=v.apply(T,P||[])).next())})},r=te&&te.__generator||function(T,P){var C={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},v,m,g,b;return b={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function a(d){return function(p){return f([d,p])}}function f(d){if(v)throw new TypeError("Generator is already executing.");for(;C;)try{if(v=1,m&&(g=d[0]&2?m.return:d[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,d[1])).done)return g;switch(m=0,g&&(d=[d[0]&2,g.value]),d[0]){case 0:case 1:g=d;break;case 4:return C.label++,{value:d[1],done:!1};case 5:C.label++,m=d[1],d=[0];continue;case 7:d=C.ops.pop(),C.trys.pop();continue;default:if(g=C.trys,!(g=g.length>0&&g[g.length-1])&&(d[0]===6||d[0]===2)){C=0;continue}if(d[0]===3&&(!g||d[1]>g[0]&&d[1]<g[3])){C.label=d[1];break}if(d[0]===6&&C.label<g[1]){C.label=g[1],g=d;break}if(g&&C.label<g[2]){C.label=g[2],C.ops.push(d);break}g[2]&&C.ops.pop(),C.trys.pop();continue}d=P.call(T,C)}catch(p){d=[6,p],m=0}finally{v=g=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.ReactMde=void 0;var i=bt,s=hv(),o=Bt,u=lu,l=Vd,c=ln,h=A_(),_={accept:"image/*",multiple:!1},y=function(T){t(P,T);function P(C){var v,m=T.call(this,C)||this;m.handleTextChange=function(b){var a=m.props.onChange;a(b)},m.handlePaste=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(b)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(b)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(b)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(b){var a=m.props.onTabChange;a(b)},m.handleCommand=function(b){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(b)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},C.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},_),m.props.paste):void 0);var g=Math.min(C.maxEditorHeight,C.minEditorHeight);return m.state={editorHeight:(v=C.initialEditorHeight)!==null&&v!==void 0?v:g},m}return P.prototype.render=function(){var C=this,v,m,g=this.props,b=g.getIcon,a=g.toolbarCommands,f=g.classes,d=g.loadingPreview,p=g.readOnly,w=g.disablePreview,E=g.value,S=g.l18n,I=g.minPreviewHeight,R=g.heightUnits,N=g.childProps,M=g.selectedTab,O=g.generateMarkdownPreview,k=g.loadSuggestions,D=g.suggestionTriggerCharacters,B=g.textAreaComponent,U=N||{},se=a.map(function(A){return A.map(function(V){var W=C.commandOrchestrator.getCommand(V);return{commandName:V,buttonContent:W.icon?W.icon(b):b(V),buttonProps:W.buttonProps,buttonComponentClass:W.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:se,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:M,readOnly:p,disablePreview:w,l18n:S,buttonProps:U.commandButtons,writeButtonProps:U.writeButton,previewButtonProps:U.previewButton}),i.createElement("div",{className:c.classNames({invisible:M!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:B,textAreaProps:N&&N.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:E,suggestionTriggerCharacters:D,loadSuggestions:k,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(v=this.props.paste.accept)!==null&&v!==void 0?v:_.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:_.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,S.pasteDropSelect))),M!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:I,heightUnits:R,generateMarkdownPreview:O,markdown:E}))},P.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},P}(i.Component);return Ti.ReactMde=y,Ti}var up;function hv(){return up||(up=1,function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(zs,t),n(js,t),n(Fs,t),n(Ga,t),n(Qa,t),n(Ja,t),n(N_(),t),n(Us,t)}(cl)),cl}var lp;function pv(){return lp||(lp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Ne;t.MarkdownUtil=e;var n=hv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Vd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Bt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(ll)),ll}var D_=pv();const M_=Ns(D_);var mv={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var d={};for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p].defaultValue);return d}function n(){var a=e(!0),f={};for(var d in a)a.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,a);if(d.valid)s[a]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var E=d+" sub-extension "+w+": ",S=a[w];if(typeof S!="object")return p.valid=!1,p.error=E+"must be an object, but "+typeof S+" given",p;if(!r.helper.isString(S.type))return p.valid=!1,p.error=E+'property "type" must be a string, but '+typeof S.type+" given",p;var I=S.type=S.type.toLowerCase();if(I==="language"&&(I=S.type="lang"),I==="html"&&(I=S.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return p.valid=!1,p.error=E+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(I==="listener"){if(r.helper.isUndefined(S.listeners))return p.valid=!1,p.error=E+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(S.filter)&&r.helper.isUndefined(S.regex))return p.valid=!1,p.error=E+I+' extensions must define either a "regex" property or a "filter" method',p;if(S.listeners){if(typeof S.listeners!="object")return p.valid=!1,p.error=E+'"listeners" property must be an object but '+typeof S.listeners+" given",p;for(var R in S.listeners)if(S.listeners.hasOwnProperty(R)&&typeof S.listeners[R]!="function")return p.valid=!1,p.error=E+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+R+" must be a function but "+typeof S.listeners[R]+" given",p}if(S.filter){if(typeof S.filter!="function")return p.valid=!1,p.error=E+'"filter" must be a function, but '+typeof S.filter+" given",p}else if(S.regex){if(r.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return p.valid=!1,p.error=E+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",p;if(r.helper.isUndefined(S.replace))return p.valid=!1,p.error=E+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=c(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var d=0;d<a.length;d++)f(a[d],d,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,d){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var _=function(a,f,d,p){var w=p||"",E=w.indexOf("g")>-1,S=new RegExp(f+"|"+d,"g"+w.replace(/g/g,"")),I=new RegExp(f,w.replace(/g/g,"")),R=[],N,M,O,k,D;do for(N=0;O=S.exec(a);)if(I.test(O[0]))N++||(M=S.lastIndex,k=M-O[0].length);else if(N&&!--N){D=O.index+O[0].length;var B={left:{start:k,end:M},match:{start:M,end:O.index},right:{start:O.index,end:D},wholeMatch:{start:k,end:D}};if(R.push(B),!E)return R}while(N&&(S.lastIndex=M));return R};r.helper.matchRecursiveRegExp=function(a,f,d,p){for(var w=_(a,f,d,p),E=[],S=0;S<w.length;++S)E.push([a.slice(w[S].wholeMatch.start,w[S].wholeMatch.end),a.slice(w[S].match.start,w[S].match.end),a.slice(w[S].left.start,w[S].left.end),a.slice(w[S].right.start,w[S].right.end)]);return E},r.helper.replaceRecursiveRegExp=function(a,f,d,p,w){if(!r.helper.isFunction(f)){var E=f;f=function(){return E}}var S=_(a,d,p,w),I=a,R=S.length;if(R>0){var N=[];S[0].wholeMatch.start!==0&&N.push(a.slice(0,S[0].wholeMatch.start));for(var M=0;M<R;++M)N.push(f(a.slice(S[M].wholeMatch.start,S[M].wholeMatch.end),a.slice(S[M].match.start,S[M].match.end),a.slice(S[M].left.start,S[M].left.end),a.slice(S[M].right.start,S[M].right.end))),M<R-1&&N.push(a.slice(S[M].wholeMatch.end,S[M+1].wholeMatch.start));S[R-1].wholeMatch.end<a.length&&N.push(a.slice(S[R-1].wholeMatch.end)),I=N.join("")}return I},r.helper.regexIndexOf=function(a,f,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(d||0).search(f);return p>=0?p+(d||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return a=a.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var p=Math.random();d=p>.9?f[2](d):p>.45?f[1](d):f[0](d)}return d}),a},r.helper.padEnd=function(f,d,p){return d=d>>0,p=String(p||" "),f.length>d?String(f):(d=d-f.length,d>p.length&&(p+=p.repeat(d/p.length)),String(f)+p.slice(0,d))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},d=[],p=[],w={},E=u,S={parsed:{},raw:"",format:""};I();function I(){a=a||{};for(var k in o)o.hasOwnProperty(k)&&(f[k]=o[k]);if(typeof a=="object")for(var D in a)a.hasOwnProperty(D)&&(f[D]=a[D]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,R)}function R(k,D){if(D=D||null,r.helper.isString(k))if(k=r.helper.stdExtName(k),D=k,r.extensions[k]){console.warn("DEPRECATION WARNING: "+k+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),N(r.extensions[k],k);return}else if(!r.helper.isUndefined(s[k]))k=s[k];else throw Error('Extension "'+k+'" could not be loaded. It was either not found or is not a valid extension.');typeof k=="function"&&(k=k()),r.helper.isArray(k)||(k=[k]);var B=c(k,D);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U){switch(k[U].type){case"lang":d.push(k[U]);break;case"output":p.push(k[U]);break}if(k[U].hasOwnProperty("listeners"))for(var se in k[U].listeners)k[U].listeners.hasOwnProperty(se)&&M(se,k[U].listeners[se])}}function N(k,D){typeof k=="function"&&(k=k(new r.Converter)),r.helper.isArray(k)||(k=[k]);var B=c(k,D);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U)switch(k[U].type){case"lang":d.push(k[U]);break;case"output":p.push(k[U]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(k,D){if(!r.helper.isString(k))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof k+" given");if(typeof D!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof D+" given");w.hasOwnProperty(k)||(w[k]=[]),w[k].push(D)}function O(k){var D=k.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+D+"}","gm");return k.replace(B,"")}this._dispatch=function(D,B,U,se){if(w.hasOwnProperty(D))for(var A=0;A<w[D].length;++A){var V=w[D][A](D,B,this,U,se);V&&typeof V<"u"&&(B=V)}return B},this.listen=function(k,D){return M(k,D),this},this.makeHtml=function(k){if(!k)return k;var D={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return k=k.replace(//g,"T"),k=k.replace(/\$/g,"D"),k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(k=O(k)),k=`

`+k+`

`,k=r.subParser("detab")(k,f,D),k=k.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(B){k=r.subParser("runExtension")(B,k,f,D)}),k=r.subParser("metadata")(k,f,D),k=r.subParser("hashPreCodeTags")(k,f,D),k=r.subParser("githubCodeBlocks")(k,f,D),k=r.subParser("hashHTMLBlocks")(k,f,D),k=r.subParser("hashCodeTags")(k,f,D),k=r.subParser("stripLinkDefinitions")(k,f,D),k=r.subParser("blockGamut")(k,f,D),k=r.subParser("unhashHTMLSpans")(k,f,D),k=r.subParser("unescapeSpecialChars")(k,f,D),k=k.replace(/D/g,"$$"),k=k.replace(/T/g,""),k=r.subParser("completeHTMLDocument")(k,f,D),r.helper.forEach(p,function(B){k=r.subParser("runExtension")(B,k,f,D)}),S=D.metadata,k},this.makeMarkdown=this.makeMd=function(k,D){if(k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/>[ \t]+</,">NBSP;<"),!D)if(window&&window.document)D=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=D.createElement("div");B.innerHTML=k;var U={preList:re(B)};W(B);for(var se=B.childNodes,A="",V=0;V<se.length;V++)A+=r.subParser("makeMarkdown.node")(se[V],U);function W(ie){for(var he=0;he<ie.childNodes.length;++he){var _e=ie.childNodes[he];_e.nodeType===3?/\S/.test(_e.nodeValue)?(_e.nodeValue=_e.nodeValue.split(`
`).join(" "),_e.nodeValue=_e.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(_e),--he):_e.nodeType===1&&W(_e)}}function re(ie){for(var he=ie.querySelectorAll("pre"),_e=[],j=0;j<he.length;++j)if(he[j].childElementCount===1&&he[j].firstChild.tagName.toLowerCase()==="code"){var L=he[j].firstChild.innerHTML.trim(),F=he[j].firstChild.getAttribute("data-language")||"";if(F==="")for(var G=he[j].firstChild.className.split(" "),Te=0;Te<G.length;++Te){var Ee=G[Te].match(/^language-(.+)$/);if(Ee!==null){F=Ee[1];break}}L=r.helper.unescapeHTMLEntities(L),_e.push(L),he[j].outerHTML='<precode language="'+F+'" precodenum="'+j.toString()+'"></precode>'}else _e.push(he[j].innerHTML),he[j].innerHTML="",he[j].setAttribute("prenum",j.toString());return _e}return A},this.setOption=function(k,D){f[k]=D},this.getOption=function(k){return f[k]},this.getOptions=function(){return f},this.addExtension=function(k,D){D=D||null,R(k,D)},this.useExtension=function(k){R(k)},this.setFlavor=function(k){if(!l.hasOwnProperty(k))throw Error(k+" flavor was not found");var D=l[k];E=k;for(var B in D)D.hasOwnProperty(B)&&(f[B]=D[B])},this.getFlavor=function(){return E},this.removeExtension=function(k){r.helper.isArray(k)||(k=[k]);for(var D=0;D<k.length;++D){for(var B=k[D],U=0;U<d.length;++U)d[U]===B&&d[U].splice(U,1);for(var se=0;se<p.length;++U)p[se]===B&&p[se].splice(U,1)}},this.getAllExtensions=function(){return{language:d,output:p}},this.getMetadata=function(k){return k?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(k,D){S.parsed[k]=D},this._setMetadataFormat=function(k){S.format=k},this._setMetadataRaw=function(k){S.raw=k}},r.subParser("anchors",function(a,f,d){a=d.converter._dispatch("anchors.before",a,f,d);var p=function(w,E,S,I,R,N,M){if(r.helper.isUndefined(M)&&(M=""),S=S.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(S||(S=E.toLowerCase().replace(/ ?\n/g," ")),I="#"+S,!r.helper.isUndefined(d.gUrls[S]))I=d.gUrls[S],r.helper.isUndefined(d.gTitles[S])||(M=d.gTitles[S]);else return w;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O='<a href="'+I+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),O+=' title="'+M+'"'),f.openLinksInNewWindow&&!/^#/.test(I)&&(O+=' rel="noopener noreferrer" target="E95Eblank"'),O+=">"+E+"</a>",O};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,E,S,I,R){if(S==="\\")return E+I;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var N=f.ghMentionsLink.replace(/\{u}/g,R),M="";return f.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),E+'<a href="'+N+'"'+M+">"+I+"</a>"})),a=d.converter._dispatch("anchors.after",a,f,d),a});var y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,P=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,v=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,d,p,w,E,S,I){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var R=p,N="",M="",O=d||"",k=I||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&S&&(N=S),a.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),O+'<a href="'+p+'"'+M+">"+R+"</a>"+N+k}},g=function(a,f){return function(d,p,w){var E="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,f),a.encodeEmails?(E=r.helper.encodeEmailAddress(E+w),w=r.helper.encodeEmailAddress(w)):E=E+w,p+'<a href="'+E+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,f,d){return a=d.converter._dispatch("autoLinks.before",a,f,d),a=a.replace(P,m(f)),a=a.replace(v,g(f,d)),a=d.converter._dispatch("autoLinks.after",a,f,d),a}),r.subParser("simplifiedAutoLinks",function(a,f,d){return f.simplifiedAutoLink&&(a=d.converter._dispatch("simplifiedAutoLinks.before",a,f,d),f.excludeTrailingPunctuationFromURLs?a=a.replace(T,m(f)):a=a.replace(y,m(f)),a=a.replace(C,g(f,d)),a=d.converter._dispatch("simplifiedAutoLinks.after",a,f,d)),a}),r.subParser("blockGamut",function(a,f,d){return a=d.converter._dispatch("blockGamut.before",a,f,d),a=r.subParser("blockQuotes")(a,f,d),a=r.subParser("headers")(a,f,d),a=r.subParser("horizontalRule")(a,f,d),a=r.subParser("lists")(a,f,d),a=r.subParser("codeBlocks")(a,f,d),a=r.subParser("tables")(a,f,d),a=r.subParser("hashHTMLBlocks")(a,f,d),a=r.subParser("paragraphs")(a,f,d),a=d.converter._dispatch("blockGamut.after",a,f,d),a}),r.subParser("blockQuotes",function(a,f,d){a=d.converter._dispatch("blockQuotes.before",a,f,d),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,f,d),w=r.subParser("blockGamut")(w,f,d),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(E,S){var I=S;return I=I.replace(/^  /mg,"0"),I=I.replace(/0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,f,d)}),a=d.converter._dispatch("blockQuotes.after",a,f,d),a}),r.subParser("codeBlocks",function(a,f,d){a=d.converter._dispatch("codeBlocks.before",a,f,d),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(w,E,S){var I=E,R=S,N=`
`;return I=r.subParser("outdent")(I,f,d),I=r.subParser("encodeCode")(I,f,d),I=r.subParser("detab")(I,f,d),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(N=""),I="<pre><code>"+I+N+"</code></pre>",r.subParser("hashBlock")(I,f,d)+R}),a=a.replace(/0/,""),a=d.converter._dispatch("codeBlocks.after",a,f,d),a}),r.subParser("codeSpans",function(a,f,d){return a=d.converter._dispatch("codeSpans.before",a,f,d),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,E,S){var I=S;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,f,d),I=w+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,f,d),I}),a=d.converter._dispatch("codeSpans.after",a,f,d),a}),r.subParser("completeHTMLDocument",function(a,f,d){if(!f.completeHTMLDocument)return a;a=d.converter._dispatch("completeHTMLDocument.before",a,f,d);var p="html",w=`<!DOCTYPE HTML>
`,E="",S=`<meta charset="utf-8">
`,I="",R="";typeof d.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,p=d.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(S='<meta charset="utf-8">'));for(var N in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(N))switch(N.toLowerCase()){case"doctype":break;case"title":E="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?S='<meta charset="'+d.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+d.metadata.parsed[N]+'"',R+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`;break;default:R+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`}return a=w+"<html"+I+`>
<head>
`+E+S+R+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=d.converter._dispatch("completeHTMLDocument.after",a,f,d),a}),r.subParser("detab",function(a,f,d){return a=d.converter._dispatch("detab.before",a,f,d),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,w){for(var E=w,S=4-E.length%4,I=0;I<S;I++)E+=" ";return E}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=d.converter._dispatch("detab.after",a,f,d),a}),r.subParser("ellipsis",function(a,f,d){return a=d.converter._dispatch("ellipsis.before",a,f,d),a=a.replace(/\.\.\./g,""),a=d.converter._dispatch("ellipsis.after",a,f,d),a}),r.subParser("emoji",function(a,f,d){if(!f.emoji)return a;a=d.converter._dispatch("emoji.before",a,f,d);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,E){return r.helper.emojis.hasOwnProperty(E)?r.helper.emojis[E]:w}),a=d.converter._dispatch("emoji.after",a,f,d),a}),r.subParser("encodeAmpsAndAngles",function(a,f,d){return a=d.converter._dispatch("encodeAmpsAndAngles.before",a,f,d),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.converter._dispatch("encodeAmpsAndAngles.after",a,f,d),a}),r.subParser("encodeBackslashEscapes",function(a,f,d){return a=d.converter._dispatch("encodeBackslashEscapes.before",a,f,d),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeBackslashEscapes.after",a,f,d),a}),r.subParser("encodeCode",function(a,f,d){return a=d.converter._dispatch("encodeCode.before",a,f,d),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeCode.after",a,f,d),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,d){a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,d);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(E){return E.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(E){return E.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,d),a}),r.subParser("githubCodeBlocks",function(a,f,d){return f.ghCodeBlocks?(a=d.converter._dispatch("githubCodeBlocks.before",a,f,d),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,E,S){var I=f.omitExtraWLInCodeBlocks?"":`
`;return S=r.subParser("encodeCode")(S,f,d),S=r.subParser("detab")(S,f,d),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(E?' class="'+E+" language-"+E+'"':"")+">"+S+I+"</code></pre>",S=r.subParser("hashBlock")(S,f,d),`

G`+(d.ghCodeBlocks.push({text:p,codeblock:S})-1)+`G

`}),a=a.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",a,f,d)):a}),r.subParser("hashBlock",function(a,f,d){return a=d.converter._dispatch("hashBlock.before",a,f,d),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(d.gHtmlBlocks.push(a)-1)+`K

`,a=d.converter._dispatch("hashBlock.after",a,f,d),a}),r.subParser("hashCodeTags",function(a,f,d){a=d.converter._dispatch("hashCodeTags.before",a,f,d);var p=function(w,E,S,I){var R=S+r.subParser("encodeCode")(E,f,d)+I;return"C"+(d.gHtmlSpans.push(R)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=d.converter._dispatch("hashCodeTags.after",a,f,d),a}),r.subParser("hashElement",function(a,f,d){return function(p,w){var E=w;return E=E.replace(/\n\n/g,`
`),E=E.replace(/^\n/,""),E=E.replace(/\n+$/g,""),E=`

K`+(d.gHtmlBlocks.push(E)-1)+`K

`,E}}),r.subParser("hashHTMLBlocks",function(a,f,d){a=d.converter._dispatch("hashHTMLBlocks.before",a,f,d);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(k,D,B,U){var se=k;return B.search(/\bmarkdown\b/)!==-1&&(se=B+d.converter.makeHtml(D)+U),`

K`+(d.gHtmlBlocks.push(se)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(k,D){return"&lt;"+D+"&gt;"}));for(var E=0;E<p.length;++E)for(var S,I=new RegExp("^ {0,3}(<"+p[E]+"\\b[^>]*>)","im"),R="<"+p[E]+"\\b[^>]*>",N="</"+p[E]+">";(S=r.helper.regexIndexOf(a,I))!==-1;){var M=r.helper.splitAtIndex(a,S),O=r.helper.replaceRecursiveRegExp(M[1],w,R,N,"im");if(O===M[1])break;a=M[0].concat(O)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=r.helper.replaceRecursiveRegExp(a,function(k){return`

K`+(d.gHtmlBlocks.push(k)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=d.converter._dispatch("hashHTMLBlocks.after",a,f,d),a}),r.subParser("hashHTMLSpans",function(a,f,d){a=d.converter._dispatch("hashHTMLSpans.before",a,f,d);function p(w){return"C"+(d.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=d.converter._dispatch("hashHTMLSpans.after",a,f,d),a}),r.subParser("unhashHTMLSpans",function(a,f,d){a=d.converter._dispatch("unhashHTMLSpans.before",a,f,d);for(var p=0;p<d.gHtmlSpans.length;++p){for(var w=d.gHtmlSpans[p],E=0;/C(\d+)C/.test(w);){var S=RegExp.$1;if(w=w.replace("C"+S+"C",d.gHtmlSpans[S]),E===10){console.error("maximum nesting of 10 spans reached!!!");break}++E}a=a.replace("C"+p+"C",w)}return a=d.converter._dispatch("unhashHTMLSpans.after",a,f,d),a}),r.subParser("hashPreCodeTags",function(a,f,d){a=d.converter._dispatch("hashPreCodeTags.before",a,f,d);var p=function(w,E,S,I){var R=S+r.subParser("encodeCode")(E,f,d)+I;return`

G`+(d.ghCodeBlocks.push({text:w,codeblock:R})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=d.converter._dispatch("hashPreCodeTags.after",a,f,d),a}),r.subParser("headers",function(a,f,d){a=d.converter._dispatch("headers.before",a,f,d);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),w=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,E=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(R,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+I(N)+'"',k=p,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)}),a=a.replace(E,function(R,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+I(N)+'"',k=p+1,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)});var S=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(S,function(R,N,M){var O=M;f.customizedHeaderId&&(O=M.replace(/\s?\{([^{]+?)}\s*$/,""));var k=r.subParser("spanGamut")(O,f,d),D=f.noHeaderId?"":' id="'+I(M)+'"',B=p-1+N.length,U="<h"+B+D+">"+k+"</h"+B+">";return r.subParser("hashBlock")(U,f,d)});function I(R){var N,M;if(f.customizedHeaderId){var O=R.match(/\{([^{]+?)}\s*$/);O&&O[1]&&(R=O[1])}return N=R,r.helper.isString(f.prefixHeaderId)?M=f.prefixHeaderId:f.prefixHeaderId===!0?M="section-":M="",f.rawPrefixHeaderId||(N=M+N),f.ghCompatibleHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():N=N.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(N=M+N),d.hashLinkCounts[N]?N=N+"-"+d.hashLinkCounts[N]++:d.hashLinkCounts[N]=1,N}return a=d.converter._dispatch("headers.after",a,f,d),a}),r.subParser("horizontalRule",function(a,f,d){a=d.converter._dispatch("horizontalRule.before",a,f,d);var p=r.subParser("hashBlock")("<hr />",f,d);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=d.converter._dispatch("horizontalRule.after",a,f,d),a}),r.subParser("images",function(a,f,d){a=d.converter._dispatch("images.before",a,f,d);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function R(M,O,k,D,B,U,se,A){return D=D.replace(/\s/g,""),N(M,O,k,D,B,U,se,A)}function N(M,O,k,D,B,U,se,A){var V=d.gUrls,W=d.gTitles,re=d.gDimensions;if(k=k.toLowerCase(),A||(A=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)D="";else if(D===""||D===null)if((k===""||k===null)&&(k=O.toLowerCase().replace(/ ?\n/g," ")),D="#"+k,!r.helper.isUndefined(V[k]))D=V[k],r.helper.isUndefined(W[k])||(A=W[k]),r.helper.isUndefined(re[k])||(B=re[k].width,U=re[k].height);else return M;O=O.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+D+'" alt="'+O+'"';return A&&r.helper.isString(A)&&(A=A.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+A+'"'),B&&U&&(B=B==="*"?"auto":B,U=U==="*"?"auto":U,ie+=' width="'+B+'"',ie+=' height="'+U+'"'),ie+=" />",ie}return a=a.replace(S,N),a=a.replace(E,R),a=a.replace(w,N),a=a.replace(p,N),a=a.replace(I,N),a=d.converter._dispatch("images.after",a,f,d),a}),r.subParser("italicsAndBold",function(a,f,d){a=d.converter._dispatch("italicsAndBold.before",a,f,d);function p(w,E,S){return E+w+S}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,E){return p(E,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,E){return p(E,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,E){return p(E,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),a=d.converter._dispatch("italicsAndBold.after",a,f,d),a}),r.subParser("lists",function(a,f,d){function p(S,I){d.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="0";var R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,N=/\n[ \t]*\n(?!0)/.test(S);return f.disableForced4SpacesIndentedSublists&&(R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(R,function(M,O,k,D,B,U,se){se=se&&se.trim()!=="";var A=r.subParser("outdent")(B,f,d),V="";return U&&f.tasklists&&(V=' class="task-list-item" style="list-style-type: none;"',A=A.replace(/^[ \t]*\[(x|X| )?]/m,function(){var W='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(W+=" checked"),W+=">",W})),A=A.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(W){return"A"+W}),O||A.search(/\n{2,}/)>-1?(A=r.subParser("githubCodeBlocks")(A,f,d),A=r.subParser("blockGamut")(A,f,d)):(A=r.subParser("lists")(A,f,d),A=A.replace(/\n$/,""),A=r.subParser("hashHTMLBlocks")(A,f,d),A=A.replace(/\n\n+/g,`

`),N?A=r.subParser("paragraphs")(A,f,d):A=r.subParser("spanGamut")(A,f,d)),A=A.replace("A",""),A="<li"+V+">"+A+`</li>
`,A}),S=S.replace(/0/g,""),d.gListLevel--,I&&(S=S.replace(/\s+$/,"")),S}function w(S,I){if(I==="ol"){var R=S.match(/^ *(\d+)\./);if(R&&R[1]!=="1")return' start="'+R[1]+'"'}return""}function E(S,I,R){var N=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,O=I==="ul"?N:M,k="";if(S.search(O)!==-1)(function B(U){var se=U.search(O),A=w(S,I);se!==-1?(k+=`

<`+I+A+`>
`+p(U.slice(0,se),!!R)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",O=I==="ul"?N:M,B(U.slice(se))):k+=`

<`+I+A+`>
`+p(U,!!R)+"</"+I+`>
`})(S);else{var D=w(S,I);k=`

<`+I+D+`>
`+p(S,!!R)+"</"+I+`>
`}return k}return a=d.converter._dispatch("lists.before",a,f,d),a+="0",d.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,I,R){var N=R.search(/[*+-]/g)>-1?"ul":"ol";return E(I,N,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,I,R,N){var M=N.search(/[*+-]/g)>-1?"ul":"ol";return E(R,M,!1)}),a=a.replace(/0/,""),a=d.converter._dispatch("lists.after",a,f,d),a}),r.subParser("metadata",function(a,f,d){if(!f.metadata)return a;a=d.converter._dispatch("metadata.before",a,f,d);function p(w){d.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(E,S,I){return d.metadata.parsed[S]=I,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(w,E,S){return p(S),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,E,S){return E&&(d.metadata.format=E),p(S),"M"}),a=a.replace(/M/g,""),a=d.converter._dispatch("metadata.after",a,f,d),a}),r.subParser("outdent",function(a,f,d){return a=d.converter._dispatch("outdent.before",a,f,d),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=d.converter._dispatch("outdent.after",a,f,d),a}),r.subParser("paragraphs",function(a,f,d){a=d.converter._dispatch("paragraphs.before",a,f,d),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],E=p.length,S=0;S<E;S++){var I=p[S];I.search(/(K|G)(\d+)\1/g)>=0?w.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,f,d),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",w.push(I))}for(E=w.length,S=0;S<E;S++){for(var R="",N=w[S],M=!1;/(K|G)(\d+)\1/.test(N);){var O=RegExp.$1,k=RegExp.$2;O==="K"?R=d.gHtmlBlocks[k]:M?R=r.subParser("encodeCode")(d.ghCodeBlocks[k].text,f,d):R=d.ghCodeBlocks[k].codeblock,R=R.replace(/\$/g,"$$$$"),N=N.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,R),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(N)&&(M=!0)}w[S]=N}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",a,f,d)}),r.subParser("runExtension",function(a,f,d,p){if(a.filter)f=a.filter(f,p.converter,d);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),f=f.replace(w,a.replace)}return f}),r.subParser("spanGamut",function(a,f,d){return a=d.converter._dispatch("spanGamut.before",a,f,d),a=r.subParser("codeSpans")(a,f,d),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,d),a=r.subParser("encodeBackslashEscapes")(a,f,d),a=r.subParser("images")(a,f,d),a=r.subParser("anchors")(a,f,d),a=r.subParser("autoLinks")(a,f,d),a=r.subParser("simplifiedAutoLinks")(a,f,d),a=r.subParser("emoji")(a,f,d),a=r.subParser("underline")(a,f,d),a=r.subParser("italicsAndBold")(a,f,d),a=r.subParser("strikethrough")(a,f,d),a=r.subParser("ellipsis")(a,f,d),a=r.subParser("hashHTMLSpans")(a,f,d),a=r.subParser("encodeAmpsAndAngles")(a,f,d),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=d.converter._dispatch("spanGamut.after",a,f,d),a}),r.subParser("strikethrough",function(a,f,d){function p(w){return f.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,f,d)),"<del>"+w+"</del>"}return f.strikethrough&&(a=d.converter._dispatch("strikethrough.before",a,f,d),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,E){return p(E)}),a=d.converter._dispatch("strikethrough.after",a,f,d)),a}),r.subParser("stripLinkDefinitions",function(a,f,d){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var E=function(S,I,R,N,M,O,k){return I=I.toLowerCase(),R.match(/^data:.+?\/.+?;base64,/)?d.gUrls[I]=R.replace(/\s/g,""):d.gUrls[I]=r.subParser("encodeAmpsAndAngles")(R,f,d),O?O+k:(k&&(d.gTitles[I]=k.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&N&&M&&(d.gDimensions[I]={width:N,height:M}),"")};return a=a.replace(w,E),a=a.replace(p,E),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,d){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function E(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function S(M,O){var k="";return M=M.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(k=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=r.subParser("spanGamut")(M,f,d),"<th"+k+O+">"+M+`</th>
`}function I(M,O){var k=r.subParser("spanGamut")(M,f,d);return"<td"+O+">"+k+`</td>
`}function R(M,O){for(var k=`<table>
<thead>
<tr>
`,D=M.length,B=0;B<D;++B)k+=M[B];for(k+=`</tr>
</thead>
<tbody>
`,B=0;B<O.length;++B){k+=`<tr>
`;for(var U=0;U<D;++U)k+=O[B][U];k+=`</tr>
`}return k+=`</tbody>
</table>
`,k}function N(M){var O,k=M.split(`
`);for(O=0;O<k.length;++O)/^ {0,3}\|/.test(k[O])&&(k[O]=k[O].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(k[O])&&(k[O]=k[O].replace(/\|[ \t]*$/,"")),k[O]=r.subParser("codeSpans")(k[O],f,d);var D=k[0].split("|").map(function(ie){return ie.trim()}),B=k[1].split("|").map(function(ie){return ie.trim()}),U=[],se=[],A=[],V=[];for(k.shift(),k.shift(),O=0;O<k.length;++O)k[O].trim()!==""&&U.push(k[O].split("|").map(function(ie){return ie.trim()}));if(D.length<B.length)return M;for(O=0;O<B.length;++O)A.push(E(B[O]));for(O=0;O<D.length;++O)r.helper.isUndefined(A[O])&&(A[O]=""),se.push(S(D[O],A[O]));for(O=0;O<U.length;++O){for(var W=[],re=0;re<se.length;++re)r.helper.isUndefined(U[O][re]),W.push(I(U[O][re],A[re]));V.push(W)}return R(se,V)}return a=d.converter._dispatch("tables.before",a,f,d),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,N),a=a.replace(w,N),a=d.converter._dispatch("tables.after",a,f,d),a}),r.subParser("underline",function(a,f,d){return f.underline&&(a=d.converter._dispatch("underline.before",a,f,d),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("underline.after",a,f,d)),a}),r.subParser("unescapeSpecialChars",function(a,f,d){return a=d.converter._dispatch("unescapeSpecialChars.before",a,f,d),a=a.replace(/E(\d+)E/g,function(p,w){var E=parseInt(w);return String.fromCharCode(E)}),a=d.converter._dispatch("unescapeSpecialChars.after",a,f,d),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E){var S=r.subParser("makeMarkdown.node")(p[E],f);S!==""&&(d+=S)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(a,f){var d=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+d+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var d="";if(a.hasChildNodes()){d+="*";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(a,f,d){var p=new Array(d+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var E=a.childNodes,S=E.length,I=0;I<S;++I)w+=r.subParser("makeMarkdown.node")(E[I],f)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var d="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;d="[";for(var E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="](",d+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(a,f,d){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,E=w.length,S=a.getAttribute("start")||1,I=0;I<E;++I)if(!(typeof w[I].tagName>"u"||w[I].tagName.toLowerCase()!=="li")){var R="";d==="ol"?R=S.toString()+". ":R="- ",p+=R+r.subParser("makeMarkdown.listItem")(w[I],f),++S}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var d="",p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(a,f,d){d=d||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":d||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":d||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":d||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":d||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":d||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":d||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":d||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":d||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":d||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":d||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":d||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":d||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":d||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":d||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(a,f){var d=a.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var d="";if(a.hasChildNodes()){d+="~~";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(a,f){var d="";if(a.hasChildNodes()){d+="**";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(a,f){var d="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),E=a.querySelectorAll("tbody>tr"),S,I;for(S=0;S<w.length;++S){var R=r.subParser("makeMarkdown.tableCell")(w[S],f),N="---";if(w[S].hasAttribute("style")){var M=w[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":N=":---";break;case"text-align:right;":N="---:";break;case"text-align:center;":N=":---:";break}}p[0][S]=R.trim(),p[1][S]=N}for(S=0;S<E.length;++S){var O=p.push([])-1,k=E[S].getElementsByTagName("td");for(I=0;I<w.length;++I){var D=" ";typeof k[I]<"u"&&(D=r.subParser("makeMarkdown.tableCell")(k[I],f)),p[O].push(D)}}var B=3;for(S=0;S<p.length;++S)for(I=0;I<p[S].length;++I){var U=p[S][I].length;U>B&&(B=U)}for(S=0;S<p.length;++S){for(I=0;I<p[S].length;++I)S===1?p[S][I].slice(-1)===":"?p[S][I]=r.helper.padEnd(p[S][I].slice(-1),B-1,"-")+":":p[S][I]=r.helper.padEnd(p[S][I],B,"-"):p[S][I]=r.helper.padEnd(p[S][I],B);d+="| "+p[S].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var d="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var b=this;t.exports?t.exports=r:b.showdown=r}).call(te)})(mv);var O_=mv.exports;const L_=Ns(O_),R_=M_.default;function $_({tempNoteText:t,setTempNoteText:e}){const[n,r]=Qt.useState("write"),i=new L_.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return De.jsx("section",{className:"pane editor",children:De.jsx(R_,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var gv={exports:{}},x_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z_=x_,j_=z_;function vv(){}function yv(){}yv.resetWarningCache=vv;var F_=function(){function t(r,i,s,o,u,l){if(l!==j_){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yv,resetWarningCache:vv};return n.PropTypes=n,n};gv.exports=F_();var B_=gv.exports;const de=Ns(B_);var vt=typeof window<"u"?window:null,Hd=vt===null,ms=Hd?void 0:vt.document,Pt="addEventListener",At="removeEventListener",ml="getBoundingClientRect",Ii="_a",Nt="_b",Gt="_c",Eo="horizontal",Dt=function(){return!1},U_=Hd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=ms.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",wv=function(t){return typeof t=="string"||t instanceof String},cp=function(t){if(wv(t)){var e=ms.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ke=function(t,e,n){var r=t[e];return r!==void 0?r:n},So=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},V_=function(t,e){var n=ms.createElement("div");return n.className="gutter gutter-"+e,n},H_=function(t,e,n){var r={};return wv(e)?r[t]=e:r[t]=U_+"("+e+"% - "+n+"px)",r},q_=function(t,e){var n;return n={},n[t]=e+"px",n},dp=function(t,e){if(e===void 0&&(e={}),Hd)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=cp(n[0]),h=c.parentNode,_=getComputedStyle?getComputedStyle(h):null,y=_?_.flexDirection:null,T=Ke(e,"sizes")||n.map(function(){return 100/n.length}),P=Ke(e,"minSize",100),C=Array.isArray(P)?P:n.map(function(){return P}),v=Ke(e,"maxSize",1/0),m=Array.isArray(v)?v:n.map(function(){return v}),g=Ke(e,"expandToMin",!1),b=Ke(e,"gutterSize",10),a=Ke(e,"gutterAlign","center"),f=Ke(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),p=Ke(e,"dragInterval",1),w=Ke(e,"direction",Eo),E=Ke(e,"cursor",w===Eo?"col-resize":"row-resize"),S=Ke(e,"gutter",V_),I=Ke(e,"elementStyle",H_),R=Ke(e,"gutterStyle",q_);w===Eo?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function N(j,L,F,G){var Te=I(r,L,F,G);Object.keys(Te).forEach(function(Ee){j.style[Ee]=Te[Ee]})}function M(j,L,F){var G=R(r,L,F);Object.keys(G).forEach(function(Te){j.style[Te]=G[Te]})}function O(){return l.map(function(j){return j.size})}function k(j){return"touches"in j?j.touches[0][i]:j[i]}function D(j){var L=l[this.a],F=l[this.b],G=L.size+F.size;L.size=j/this.size*G,F.size=G-j/this.size*G,N(L.element,L.size,this[Nt],L.i),N(F.element,F.size,this[Gt],F.i)}function B(j){var L,F=l[this.a],G=l[this.b];this.dragging&&(L=k(j)-this.start+(this[Nt]-this.dragOffset),p>1&&(L=Math.round(L/p)*p),L<=F.minSize+F.snapOffset+this[Nt]?L=F.minSize+this[Nt]:L>=this.size-(G.minSize+G.snapOffset+this[Gt])&&(L=this.size-(G.minSize+this[Gt])),L>=F.maxSize-F.snapOffset+this[Nt]?L=F.maxSize+this[Nt]:L<=this.size-(G.maxSize-G.snapOffset+this[Gt])&&(L=this.size-(G.maxSize+this[Gt])),D.call(this,L),Ke(e,"onDrag",Dt)(O()))}function U(){var j=l[this.a].element,L=l[this.b].element,F=j[ml](),G=L[ml]();this.size=F[r]+G[r]+this[Nt]+this[Gt],this.start=F[s],this.end=F[o]}function se(j){if(!getComputedStyle)return null;var L=getComputedStyle(j);if(!L)return null;var F=j[u];return F===0?null:(w===Eo?F-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight):F-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom),F)}function A(j){var L=se(h);if(L===null||C.reduce(function(Ee,ft){return Ee+ft},0)>L)return j;var F=0,G=[],Te=j.map(function(Ee,ft){var zn=L*Ee/100,io=So(b,ft===0,ft===j.length-1,a),so=C[ft]+io;return zn<so?(F+=so-zn,G.push(0),so):(G.push(zn-so),zn)});return F===0?j:Te.map(function(Ee,ft){var zn=Ee;if(F>0&&G[ft]-F>0){var io=Math.min(F,G[ft]-F);F-=io,zn=Ee-io}return zn/L*100})}function V(){var j=this,L=l[j.a].element,F=l[j.b].element;j.dragging&&Ke(e,"onDragEnd",Dt)(O()),j.dragging=!1,vt[At]("mouseup",j.stop),vt[At]("touchend",j.stop),vt[At]("touchcancel",j.stop),vt[At]("mousemove",j.move),vt[At]("touchmove",j.move),j.stop=null,j.move=null,L[At]("selectstart",Dt),L[At]("dragstart",Dt),F[At]("selectstart",Dt),F[At]("dragstart",Dt),L.style.userSelect="",L.style.webkitUserSelect="",L.style.MozUserSelect="",L.style.pointerEvents="",F.style.userSelect="",F.style.webkitUserSelect="",F.style.MozUserSelect="",F.style.pointerEvents="",j.gutter.style.cursor="",j.parent.style.cursor="",ms.body.style.cursor=""}function W(j){if(!("button"in j&&j.button!==0)){var L=this,F=l[L.a].element,G=l[L.b].element;L.dragging||Ke(e,"onDragStart",Dt)(O()),j.preventDefault(),L.dragging=!0,L.move=B.bind(L),L.stop=V.bind(L),vt[Pt]("mouseup",L.stop),vt[Pt]("touchend",L.stop),vt[Pt]("touchcancel",L.stop),vt[Pt]("mousemove",L.move),vt[Pt]("touchmove",L.move),F[Pt]("selectstart",Dt),F[Pt]("dragstart",Dt),G[Pt]("selectstart",Dt),G[Pt]("dragstart",Dt),F.style.userSelect="none",F.style.webkitUserSelect="none",F.style.MozUserSelect="none",F.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",L.gutter.style.cursor=E,L.parent.style.cursor=E,ms.body.style.cursor=E,U.call(L),L.dragOffset=k(j)-L.end}}T=A(T);var re=[];l=n.map(function(j,L){var F={element:cp(j),size:T[L],minSize:C[L],maxSize:m[L],snapOffset:d[L],i:L},G;if(L>0&&(G={a:L-1,b:L,dragging:!1,direction:w,parent:h},G[Nt]=So(b,L-1===0,!1,a),G[Gt]=So(b,!1,L===n.length-1,a),y==="row-reverse"||y==="column-reverse")){var Te=G.a;G.a=G.b,G.b=Te}if(L>0){var Ee=S(L,w,F.element);M(Ee,b,L),G[Ii]=W.bind(G),Ee[Pt]("mousedown",G[Ii]),Ee[Pt]("touchstart",G[Ii]),h.insertBefore(Ee,F.element),G.gutter=Ee}return N(F.element,F.size,So(b,L===0,L===n.length-1,a),L),L>0&&re.push(G),F});function ie(j){var L=j.i===re.length,F=L?re[j.i-1]:re[j.i];U.call(F);var G=L?F.size-j.minSize-F[Gt]:j.minSize+F[Nt];D.call(F,G)}l.forEach(function(j){var L=j.element[ml]()[r];L<j.minSize&&(g?ie(j):j.minSize=L)});function he(j){var L=A(j);L.forEach(function(F,G){if(G>0){var Te=re[G-1],Ee=l[Te.a],ft=l[Te.b];Ee.size=L[G-1],ft.size=F,N(Ee.element,Ee.size,Te[Nt],Ee.i),N(ft.element,ft.size,Te[Gt],ft.i)}})}function _e(j,L){re.forEach(function(F){if(L!==!0?F.parent.removeChild(F.gutter):(F.gutter[At]("mousedown",F[Ii]),F.gutter[At]("touchstart",F[Ii])),j!==!0){var G=I(r,F.a.size,F[Nt]);Object.keys(G).forEach(function(Te){l[F.a].element.style[Te]="",l[F.b].element.style[Te]=""})}})}return{setSizes:he,getSizes:O,collapse:function(L){ie(l[L])},destroy:_e,parent:h,pairs:re}};function gl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var qd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=gl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=dp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=gl(s,["children","minSize","sizes","collapsed"]),h=c,_=r.minSize,y=r.sizes,T=r.collapsed,P=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=P.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,b){return g||b},!1);if(Array.isArray(o)&&Array.isArray(_)){var v=!1;o.forEach(function(g,b){v=v||g!==_[b]}),C=C||v}else Array.isArray(o)||Array.isArray(_)?C=!0:C=C||o!==_;if(C)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(g,b,a){return a.previousSibling},this.split=dp(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(g,b){m=m||g!==y[b]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==T||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=gl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return Qt.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(Qt.Component);qd.propTypes={sizes:de.arrayOf(de.number),minSize:de.oneOfType([de.number,de.arrayOf(de.number)]),maxSize:de.oneOfType([de.number,de.arrayOf(de.number)]),expandToMin:de.bool,gutterSize:de.number,gutterAlign:de.string,snapOffset:de.number,dragInterval:de.number,direction:de.string,cursor:de.string,gutter:de.func,elementStyle:de.func,gutterStyle:de.func,onDrag:de.func,onDragStart:de.func,onDragEnd:de.func,collapsed:de.number,children:de.arrayOf(de.element)};qd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},W_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,_=(s&3)<<4|u>>4;let y=(u&15)<<2|c>>6,T=c&63;l||(T=64,o||(y=64)),r.push(n[h],n[_],n[y],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_v(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||_==null)throw new K_;const y=s<<2|u>>4;if(r.push(y),c!==64){const T=u<<4&240|c>>2;if(r.push(T),_!==64){const P=c<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G_=function(t){const e=_v(t);return Ev.encodeByteArray(e,!0)},ma=function(t){return G_(t).replace(/\./g,"")},Q_=function(t){try{return Ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=()=>Y_().__FIREBASE_DEFAULTS__,J_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q_(t[1]);return e&&JSON.parse(e)},Sv=()=>{try{return X_()||J_()||Z_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e8=t=>{var e,n;return(n=(e=Sv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t8=t=>{const e=e8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},n8=()=>{var t;return(t=Sv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[ma(JSON.stringify(n)),ma(JSON.stringify(o)),u].join(".")}function s8(){try{return typeof indexedDB=="object"}catch{return!1}}function o8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a8,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kv.prototype.create)}}class kv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?u8(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ai(i,u,r)}}function u8(t,e){return t.replace(l8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l8=/\{\$([^}]+)}/g;function wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fp(s)&&fp(o)){if(!wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new r8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f8(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d8(t){return t===Bn?void 0:t}function f8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const p8={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},m8=le.INFO,g8={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},v8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=m8,this._logHandler=v8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const y8=(t,e)=>e.some(n=>t instanceof n);let hp,pp;function w8(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _8(){return pp||(pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,_c=new WeakMap,Tv=new WeakMap,vl=new WeakMap,Wd=new WeakMap;function E8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(kn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bv.set(n,t)}).catch(()=>{}),Wd.set(e,t),e}function S8(t){if(_c.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_c.set(t,e)}let Ec={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _c.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k8(t){Ec=t(Ec)}function C8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yl(this),e,...n);return Tv.set(r,e.sort?e.sort():[e]),kn(r)}:_8().includes(t)?function(...e){return t.apply(yl(this),e),kn(bv.get(this))}:function(...e){return kn(t.apply(yl(this),e))}}function b8(t){return typeof t=="function"?C8(t):(t instanceof IDBTransaction&&S8(t),y8(t,w8())?new Proxy(t,Ec):t)}function kn(t){if(t instanceof IDBRequest)return E8(t);if(vl.has(t))return vl.get(t);const e=b8(t);return e!==t&&(vl.set(t,e),Wd.set(e,t)),e}const yl=t=>Wd.get(t);function T8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=kn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(kn(o.result),l.oldVersion,l.newVersion,kn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const I8=["get","getKey","getAll","getAllKeys","count"],P8=["put","add","delete","clear"],wl=new Map;function mp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wl.get(e))return wl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I8.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return wl.set(e,s),s}k8(t=>({...t,get:(e,n,r)=>mp(e,n)||t.get(e,n,r),has:(e,n)=>!!mp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sc="@firebase/app",gp="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Cv("@firebase/app"),D8="@firebase/app-compat",M8="@firebase/analytics-compat",O8="@firebase/analytics",L8="@firebase/app-check-compat",R8="@firebase/app-check",$8="@firebase/auth",x8="@firebase/auth-compat",z8="@firebase/database",j8="@firebase/database-compat",F8="@firebase/functions",B8="@firebase/functions-compat",U8="@firebase/installations",V8="@firebase/installations-compat",H8="@firebase/messaging",q8="@firebase/messaging-compat",W8="@firebase/performance",K8="@firebase/performance-compat",G8="@firebase/remote-config",Q8="@firebase/remote-config-compat",Y8="@firebase/storage",X8="@firebase/storage-compat",J8="@firebase/firestore",Z8="@firebase/firestore-compat",e2="firebase",t2="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="[DEFAULT]",n2={[Sc]:"fire-core",[D8]:"fire-core-compat",[O8]:"fire-analytics",[M8]:"fire-analytics-compat",[R8]:"fire-app-check",[L8]:"fire-app-check-compat",[$8]:"fire-auth",[x8]:"fire-auth-compat",[z8]:"fire-rtdb",[j8]:"fire-rtdb-compat",[F8]:"fire-fn",[B8]:"fire-fn-compat",[U8]:"fire-iid",[V8]:"fire-iid-compat",[H8]:"fire-fcm",[q8]:"fire-fcm-compat",[W8]:"fire-perf",[K8]:"fire-perf-compat",[G8]:"fire-rc",[Q8]:"fire-rc-compat",[Y8]:"fire-gcs",[X8]:"fire-gcs-compat",[J8]:"fire-fst",[Z8]:"fire-fst-compat","fire-js":"fire-js",[e2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Map,Cc=new Map;function r2(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function va(t){const e=t.name;if(Cc.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Cc.set(e,t);for(const n of ga.values())r2(n,t);return!0}function i2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cn=new kv("app","Firebase",s2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=t2;function Iv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cn.create("bad-app-name",{appName:String(i)});if(n||(n=n8()),!n)throw Cn.create("no-options");const s=ga.get(i);if(s){if(wc(n,s.options)&&wc(r,s.config))return s;throw Cn.create("duplicate-app",{appName:i})}const o=new h8(i);for(const l of Cc.values())o.addComponent(l);const u=new o2(n,r,o);return ga.set(i,u),u}function u2(t=kc){const e=ga.get(t);if(!e&&t===kc)return Iv();if(!e)throw Cn.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=n2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(u.join(" "));return}va(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-heartbeat-database",c2=1,vs="firebase-heartbeat-store";let _l=null;function Pv(){return _l||(_l=T8(l2,c2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vs)}}}).catch(t=>{throw Cn.create("idb-open",{originalErrorMessage:t.message})})),_l}async function d2(t){try{return(await Pv()).transaction(vs).objectStore(vs).get(Av(t))}catch(e){if(e instanceof ai)rr.warn(e.message);else{const n=Cn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function vp(t,e){try{const r=(await Pv()).transaction(vs,"readwrite");return await r.objectStore(vs).put(e,Av(t)),r.done}catch(n){if(n instanceof ai)rr.warn(n.message);else{const r=Cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function Av(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1024,h2=30*24*60*60*1e3;class p2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=h2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yp(),{heartbeatsToSend:n,unsentEntries:r}=m2(this._heartbeatsCache.heartbeats),i=ma(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yp(){return new Date().toISOString().substring(0,10)}function m2(t,e=f2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s8()?o8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await d2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wp(t){return ma(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){va(new gs("platform-logger",e=>new A8(e),"PRIVATE")),va(new gs("heartbeat",e=>new p2(e),"PRIVATE")),xr(Sc,gp,t),xr(Sc,gp,"esm2017"),xr("fire-js","")}v2("");var y2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Kd=Kd||{},Z=y2||self;function ya(){}function fu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function w2(t){return Object.prototype.hasOwnProperty.call(t,El)&&t[El]||(t[El]=++_2)}var El="closure_uid_"+(1e9*Math.random()>>>0),_2=0;function E2(t,e,n){return t.call.apply(t.bind,arguments)}function S2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tt=E2:tt=S2,tt.apply(null,arguments)}function ko(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function We(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function $n(){this.s=this.s,this.o=this.o}var k2=0;$n.prototype.s=!1;$n.prototype.na=function(){!this.s&&(this.s=!0,this.M(),k2!=0)&&w2(this)};$n.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _p(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var C2=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",ya,e),Z.removeEventListener("test",ya,e)}catch{}return t}();function wa(t){return/^[\s\xa0]*$/.test(t)}var Ep=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sl(t,e){return t<e?-1:t>e?1:0}function hu(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Rt(t){return hu().indexOf(t)!=-1}function Qd(t){return Qd[" "](t),t}Qd[" "]=ya;function b2(t){var e=P2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var T2=Rt("Opera"),Wr=Rt("Trident")||Rt("MSIE"),Dv=Rt("Edge"),bc=Dv||Wr,Mv=Rt("Gecko")&&!(hu().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),I2=hu().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge");function Ov(){var t=Z.document;return t?t.documentMode:void 0}var _a;e:{var kl="",Cl=function(){var t=hu();if(Mv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Dv)return/Edge\/([\d\.]+)/.exec(t);if(Wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(I2)return/WebKit\/(\S+)/.exec(t);if(T2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cl&&(kl=Cl?Cl[1]:""),Wr){var bl=Ov();if(bl!=null&&bl>parseFloat(kl)){_a=String(bl);break e}}_a=kl}var P2={};function A2(){return b2(function(){let t=0;const e=Ep(String(_a)).split("."),n=Ep("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Sl(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Sl(i[2].length==0,s[2].length==0)||Sl(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Tc;if(Z.document&&Wr){var Sp=Ov();Tc=Sp||parseInt(_a,10)||void 0}else Tc=void 0;var N2=Tc;function ys(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Mv){e:{try{Qd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:D2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ys.X.h.call(this)}}We(ys,nt);var D2={2:"touch",3:"pen",4:"mouse"};ys.prototype.h=function(){ys.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),M2=0;function O2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++M2,this.ba=this.ea=!1}function pu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Yd(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Lv(t){const e={};for(const n in t)e[n]=t[n];return e}const kp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<kp.length;s++)n=kp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mu(t){this.src=t,this.g={},this.h=0}mu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Pc(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new O2(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Ic(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Nv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Xd="closure_lm_"+(1e6*Math.random()|0),Tl={};function $v(t,e,n,r,i){if(r&&r.once)return zv(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$v(t,e[s],n,r,i);return null}return n=ef(n),t&&t[Hs]?t.N(e,n,Vs(r)?!!r.capture:!!r,i):xv(t,e,n,!1,r,i)}function xv(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vs(i)?!!i.capture:!!i,u=Zd(t);if(u||(t[Xd]=u=new mu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=L2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)C2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function L2(){function t(n){return e.call(t.src,t.listener,n)}const e=R2;return t}function zv(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zv(t,e[s],n,r,i);return null}return n=ef(n),t&&t[Hs]?t.O(e,n,Vs(r)?!!r.capture:!!r,i):xv(t,e,n,!0,r,i)}function jv(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jv(t,e[s],n,r,i);else r=Vs(r)?!!r.capture:!!r,n=ef(n),t&&t[Hs]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Pc(s,n,r,i),-1<n&&(pu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pc(e,n,r,i)),(n=-1<t?e[t]:null)&&Jd(n))}function Jd(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Hs])Ic(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zd(e))?(Ic(n,t),n.h==0&&(n.src=null,e[Xd]=null)):pu(t)}}}function Fv(t){return t in Tl?Tl[t]:Tl[t]="on"+t}function R2(t,e){if(t.ba)t=!0;else{e=new ys(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Jd(t),t=n.call(r,e)}return t}function Zd(t){return t=t[Xd],t instanceof mu?t:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(t){return typeof t=="function"?t:(t[Il]||(t[Il]=function(e){return t.handleEvent(e)}),t[Il])}function Fe(){$n.call(this),this.i=new mu(this),this.P=this,this.I=null}We(Fe,$n);Fe.prototype[Hs]=!0;Fe.prototype.removeEventListener=function(t,e,n,r){jv(this,t,e,n,r)};function He(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;e=new nt(r,t),Rv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Co(o,r,!0,e)&&i}if(o=e.g=t,i=Co(o,r,!0,e)&&i,i=Co(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Co(o,r,!1,e)&&i}Fe.prototype.M=function(){if(Fe.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pu(n[r]);delete t.g[e],t.h--}}this.I=null};Fe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Co(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var u=o.listener,l=o.ha||o.src;o.ea&&Ic(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var tf=Z.JSON.stringify;function $2(){var t=Vv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class x2{constructor(){this.h=this.g=null}add(e,n){const r=Bv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Bv=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new z2,t=>t.reset());class z2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function j2(t){Z.setTimeout(()=>{throw t},0)}function Uv(t,e){Ac||F2(),Nc||(Ac(),Nc=!0),Vv.add(t,e)}var Ac;function F2(){var t=Z.Promise.resolve(void 0);Ac=function(){t.then(B2)}}var Nc=!1,Vv=new x2;function B2(){for(var t;t=$2();){try{t.h.call(t.g)}catch(n){j2(n)}var e=Bv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Nc=!1}function gu(t,e){Fe.call(this),this.h=t||1,this.g=e||Z,this.j=tt(this.lb,this),this.l=Date.now()}We(gu,Fe);q=gu.prototype;q.ca=!1;q.R=null;q.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),He(this,"tick"),this.ca&&(nf(this),this.start()))}};q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nf(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}q.M=function(){gu.X.M.call(this),nf(this),delete this.g};function rf(t,e,n){if(typeof t=="function")n&&(t=tt(t,n));else if(t&&typeof t.handleEvent=="function")t=tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function Hv(t){t.g=rf(()=>{t.g=null,t.i&&(t.i=!1,Hv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class U2 extends $n{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hv(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(t){$n.call(this),this.h=t,this.g={}}We(ws,$n);var Cp=[];function qv(t,e,n,r){Array.isArray(n)||(n&&(Cp[0]=n.toString()),n=Cp);for(var i=0;i<n.length;i++){var s=$v(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Wv(t){Yd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jd(e)},t),t.g={}}ws.prototype.M=function(){ws.X.M.call(this),Wv(this)};ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vu(){this.g=!0}vu.prototype.Aa=function(){this.g=!1};function V2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var h=c[0];c=c[1];var _=h.split("_");o=2<=_.length&&_[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function H2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Tr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+W2(t,n)+(r?" "+r:"")})}function q2(t,e){t.info(function(){return"TIMEOUT: "+e})}vu.prototype.info=function(){};function W2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return tf(n)}catch{return e}}var cr={},bp=null;function yu(){return bp=bp||new Fe}cr.Pa="serverreachability";function Kv(t){nt.call(this,cr.Pa,t)}We(Kv,nt);function _s(t){const e=yu();He(e,new Kv(e))}cr.STAT_EVENT="statevent";function Gv(t,e){nt.call(this,cr.STAT_EVENT,t),this.stat=e}We(Gv,nt);function st(t){const e=yu();He(e,new Gv(e,t))}cr.Qa="timingevent";function Qv(t,e){nt.call(this,cr.Qa,t),this.size=e}We(Qv,nt);function qs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var wu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Yv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sf(){}sf.prototype.h=null;function Tp(t){return t.h||(t.h=t.i())}function Xv(){}var Ws={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function of(){nt.call(this,"d")}We(of,nt);function af(){nt.call(this,"c")}We(af,nt);var Dc;function _u(){}We(_u,sf);_u.prototype.g=function(){return new XMLHttpRequest};_u.prototype.i=function(){return{}};Dc=new _u;function Ks(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ws(this),this.O=K2,t=bc?125:void 0,this.T=new gu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Jv}function Jv(){this.i=null,this.g="",this.h=!1}var K2=45e3,Mc={},Ea={};q=Ks.prototype;q.setTimeout=function(t){this.O=t};function Oc(t,e,n){t.K=1,t.v=Su(rn(e)),t.s=n,t.P=!0,Zv(t,null)}function Zv(t,e){t.F=Date.now(),Gs(t),t.A=rn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),ay(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Jv,t.g=Py(t.l,n?e:null,!t.s),0<t.N&&(t.L=new U2(tt(t.La,t,t.g),t.N)),qv(t.S,t.g,"readystatechange",t.ib),e=t.H?Lv(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),_s(),V2(t.j,t.u,t.A,t.m,t.U,t.s)}q.ib=function(t){t=t.target;const e=this.L;e&&en(t)==3?e.l():this.La(t)};q.La=function(t){try{if(t==this.g)e:{const h=en(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>h)&&(h!=3||bc||this.g&&(this.h.h||this.g.fa()||Np(this.g)))){this.I||h!=4||e==7||(e==8||0>=_?_s(3):_s(2)),Eu(this);var n=this.g.aa();this.Y=n;t:if(ey(this)){var r=Np(this.g);t="";var i=r.length,s=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Yi(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,H2(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wa(u)){var c=u;break t}}c=null}if(n=c)Tr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lc(this,n);else{this.i=!1,this.o=3,st(12),Kn(this),Yi(this);break e}}this.P?(ty(this,h,o),bc&&this.i&&h==3&&(qv(this.S,this.T,"tick",this.hb),this.T.start())):(Tr(this.j,this.m,o,null),Lc(this,o)),h==4&&Kn(this),this.i&&!this.I&&(h==4?Cy(this.l,this):(this.i=!1,Gs(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),Kn(this),Yi(this)}}}catch{}finally{}};function ey(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function ty(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=G2(t,n),i==Ea){e==4&&(t.o=4,st(14),r=!1),Tr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Mc){t.o=4,st(15),Tr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Tr(t.j,t.m,i,null),Lc(t,i);ey(t)&&i!=Ea&&i!=Mc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,st(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),pf(e),e.K=!0,st(11))):(Tr(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),Yi(t))}q.hb=function(){if(this.g){var t=en(this.g),e=this.g.fa();this.C<e.length&&(Eu(this),ty(this,t,e),this.i&&t!=4&&Gs(this))}};function G2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ea:(n=Number(e.substring(n,r)),isNaN(n)?Mc:(r+=1,r+n>e.length?Ea:(e=e.substr(r,n),t.C=r+n,e)))}q.cancel=function(){this.I=!0,Kn(this)};function Gs(t){t.V=Date.now()+t.O,ny(t,t.O)}function ny(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=qs(tt(t.gb,t),e)}function Eu(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}q.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(q2(this.j,this.A),this.K!=2&&(_s(),st(17)),Kn(this),this.o=2,Yi(this)):ny(this,this.V-t)};function Yi(t){t.l.G==0||t.I||Cy(t.l,t)}function Kn(t){Eu(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,nf(t.T),Wv(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lc(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Rc(n.h,t))){if(!t.J&&Rc(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ca(n),bu(n);else break e;hf(n),st(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=qs(tt(n.cb,n),6e3));if(1>=cy(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Gn(n,11)}else if((t.J||n.g==t)&&Ca(n),!wa(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const h=c[3];h!=null&&(n.ma=h,n.j.info("VER="+n.ma));const _=c[4];_!=null&&(n.Ca=_,n.j.info("SVER="+n.Ca));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const T=t.g;if(T){const P=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.h;s.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uf(s,s.h),s.h=null))}if(r.D){const C=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.za=C,ve(r.F,r.D,C))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Iy(r,r.H?r.ka:null,r.V),o.J){dy(r.h,o);var u=o,l=r.J;l&&u.setTimeout(l),u.B&&(Eu(u),Gs(u)),r.g=o}else Sy(r);0<n.i.length&&Tu(n)}else c[0]!="stop"&&c[0]!="close"||Gn(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Gn(n,7):ff(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}_s(4)}catch{}}function Q2(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Y2(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ry(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Y2(t),r=Q2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var iy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xn){this.h=e!==void 0?e:t.h,Sa(this,t.j),this.s=t.s,this.g=t.g,ka(this,t.m),this.l=t.l,e=t.i;var n=new Es;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ip(this,n),this.o=t.o}else t&&(n=String(t).match(iy))?(this.h=!!e,Sa(this,n[1]||"",!0),this.s=Li(n[2]||""),this.g=Li(n[3]||"",!0),ka(this,n[4]),this.l=Li(n[5]||"",!0),Ip(this,n[6]||"",!0),this.o=Li(n[7]||"")):(this.h=!!e,this.i=new Es(null,this.h))}Xn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ri(e,Pp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ri(e,Pp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ri(n,n.charAt(0)=="/"?eE:Z2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ri(n,nE)),t.join("")};function rn(t){return new Xn(t)}function Sa(t,e,n){t.j=n?Li(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ka(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ip(t,e,n){e instanceof Es?(t.i=e,rE(t.i,t.h)):(n||(e=Ri(e,tE)),t.i=new Es(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function Su(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Li(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ri(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,J2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function J2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Pp=/[#\/\?@]/g,Z2=/[#\?:]/g,eE=/[#\?]/g,tE=/[#\?@]/g,nE=/#/g;function Es(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xn(t){t.g||(t.g=new Map,t.h=0,t.i&&X2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=Es.prototype;q.add=function(t,e){xn(this),this.i=null,t=ui(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sy(t,e){xn(t),e=ui(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oy(t,e){return xn(t),e=ui(t,e),t.g.has(e)}q.forEach=function(t,e){xn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.oa=function(){xn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.W=function(t){xn(this);let e=[];if(typeof t=="string")oy(this,t)&&(e=e.concat(this.g.get(ui(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return xn(this),this.i=null,t=ui(this,t),oy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function ay(t,e,n){sy(t,e),0<n.length&&(t.i=null,t.g.set(ui(t,e),Gd(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ui(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rE(t,e){e&&!t.j&&(xn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sy(this,r),ay(this,i,n))},t)),t.j=e}var iE=class{constructor(e,n){this.h=e,this.g=n}};function uy(t){this.l=t||sE,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sE=10;function ly(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cy(t){return t.h?1:t.g?t.g.size:0}function Rc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uf(t,e){t.g?t.g.add(e):t.h=e}function dy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}uy.prototype.cancel=function(){if(this.i=fy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Gd(t.i)}function lf(){}lf.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};lf.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function oE(){this.g=new lf}function aE(t,e,n){const r=n||"";try{ry(t,function(i,s){let o=i;Vs(i)&&(o=tf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uE(t,e){const n=new vu;if(Z.Image){const r=new Image;r.onload=ko(bo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ko(bo,n,r,"TestLoadImage: error",!1,e),r.onabort=ko(bo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ko(bo,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qs(t){this.l=t.ac||null,this.j=t.jb||!1}We(Qs,sf);Qs.prototype.g=function(){return new ku(this.l,this.j)};Qs.prototype.i=function(t){return function(){return t}}({});function ku(t,e){Fe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=cf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(ku,Fe);var cf=0;q=ku.prototype;q.open=function(t,e){if(this.readyState!=cf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ss(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=cf};q.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hy(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function hy(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}q.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ys(this):Ss(this),this.readyState==3&&hy(this)}};q.Va=function(t){this.g&&(this.response=this.responseText=t,Ys(this))};q.Ua=function(t){this.g&&(this.response=t,Ys(this))};q.ga=function(){this.g&&Ys(this)};function Ys(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ss(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ss(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lE=Z.JSON.parse;function be(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=py,this.K=this.L=!1}We(be,Fe);var py="",cE=/^https?$/i,dE=["POST","PUT"];q=be.prototype;q.Ka=function(t){this.L=t};q.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dc.g(),this.C=this.u?Tp(this.u):Tp(Dc),this.g.onreadystatechange=tt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Ap(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=Nv(dE,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vy(this),0<this.B&&((this.K=fE(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.qa,this)):this.A=rf(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ap(this,s)}};function fE(t){return Wr&&A2()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.qa=function(){typeof Kd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function Ap(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,my(t),Cu(t)}function my(t){t.D||(t.D=!0,He(t,"complete"),He(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,He(this,"complete"),He(this,"abort"),Cu(this))};q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cu(this,!0)),be.X.M.call(this)};q.Ha=function(){this.s||(this.F||this.v||this.l?gy(this):this.fb())};q.fb=function(){gy(this)};function gy(t){if(t.h&&typeof Kd<"u"&&(!t.C[1]||en(t)!=4||t.aa()!=2)){if(t.v&&en(t)==4)rf(t.Ha,0,t);else if(He(t,"readystatechange"),en(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.H).match(iy)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!cE.test(i?i.toLowerCase():"")}n=r}if(n)He(t,"complete"),He(t,"success");else{t.m=6;try{var o=2<en(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",my(t)}}finally{Cu(t)}}}}function Cu(t,e){if(t.g){vy(t);const n=t.g,r=t.C[0]?ya:null;t.g=null,t.C=null,e||He(t,"ready");try{n.onreadystatechange=r}catch{}}}function vy(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function en(t){return t.g?t.g.readyState:0}q.aa=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}};q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lE(e)}};function Np(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case py:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ea=function(){return this.m};q.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yy(t){let e="";return Yd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function df(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wy(t){this.Ca=0,this.i=[],this.j=new vu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Pi("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Pi("baseRetryDelayMs",5e3,t),this.bb=Pi("retryDelaySeedMs",1e4,t),this.$a=Pi("forwardChannelMaxRetries",2,t),this.ta=Pi("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new uy(t&&t.concurrentRequestLimit),this.Fa=new oE,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}q=wy.prototype;q.ma=8;q.G=1;function ff(t){if(_y(t),t.G==3){var e=t.U++,n=rn(t.F);ve(n,"SID",t.I),ve(n,"RID",e),ve(n,"TYPE","terminate"),Xs(t,n),e=new Ks(t,t.j,e,void 0),e.K=2,e.v=Su(rn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=Py(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gs(e)}Ty(t)}function bu(t){t.g&&(pf(t),t.g.cancel(),t.g=null)}function _y(t){bu(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Ca(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Tu(t){ly(t.h)||t.m||(t.m=!0,Uv(t.Ja,t),t.C=0)}function hE(t,e){return cy(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=qs(tt(t.Ja,t,e),by(t,t.C)),t.C++,!0)}q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ks(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Lv(s),Rv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ey(this,i,e),n=rn(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),Xs(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(yy(s)))+"&"+e:this.o&&df(n,this.o,s)),uf(this.h,i),this.Ya&&ve(n,"TYPE","init"),this.O?(ve(n,"$req",e),ve(n,"SID","null"),i.Z=!0,Oc(i,n,null)):Oc(i,n,e),this.G=2}}else this.G==3&&(t?Dp(this,t):this.i.length==0||ly(this.h)||Dp(this))};function Dp(t,e){var n;e?n=e.m:n=t.U++;const r=rn(t.F);ve(r,"SID",t.I),ve(r,"RID",n),ve(r,"AID",t.T),Xs(t,r),t.o&&t.s&&df(r,t.o,t.s),n=new Ks(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Ey(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),uf(t.h,n),Oc(n,r,e)}function Xs(t,e){t.ia&&Yd(t.ia,function(n,r){ve(e,r,n)}),t.l&&ry({},function(n,r){ve(e,r,n)})}function Ey(t,e,n){n=Math.min(t.i.length,n);var r=t.l?tt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].h;const h=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),u=!1;else try{aE(h,o,"req"+c+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Sy(t){t.g||t.u||(t.Z=1,Uv(t.Ia,t),t.A=0)}function hf(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=qs(tt(t.Ia,t),by(t,t.A)),t.A++,!0)}q.Ia=function(){if(this.u=null,ky(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=qs(tt(this.eb,this),t)}};q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,st(10),bu(this),ky(this))};function pf(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function ky(t){t.g=new Ks(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=rn(t.sa);ve(e,"RID","rpc"),ve(e,"SID",t.I),ve(e,"CI",t.L?"0":"1"),ve(e,"AID",t.T),ve(e,"TYPE","xmlhttp"),Xs(t,e),t.o&&t.s&&df(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Su(rn(e)),n.s=null,n.P=!0,Zv(n,t)}q.cb=function(){this.v!=null&&(this.v=null,bu(this),hf(this),st(19))};function Ca(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function Cy(t,e){var n=null;if(t.g==e){Ca(t),pf(t),t.g=null;var r=2}else if(Rc(t.h,e))n=e.D,dy(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=yu(),He(r,new Qv(r,n)),Tu(t)}else Sy(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&hE(t,e)||r==2&&hf(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function by(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Gn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=tt(t.kb,t);n||(n=new Xn("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Sa(n,"https"),Su(n)),uE(n.toString(),r)}else st(2);t.G=0,t.l&&t.l.va(e),Ty(t),_y(t)}q.kb=function(t){t?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ty(t){if(t.G=0,t.la=[],t.l){const e=fy(t.h);(e.length!=0||t.i.length!=0)&&(_p(t.la,e),_p(t.la,t.i),t.h.i.length=0,Gd(t.i),t.i.length=0),t.l.ua()}}function Iy(t,e,n){var r=n instanceof Xn?rn(n):new Xn(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),ka(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xn(null,void 0);r&&Sa(s,r),e&&(s.g=e),i&&ka(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&ve(r,n,e),ve(r,"VER",t.ma),Xs(t,r),r}function Py(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new be(new Qs({jb:!0})):new be(t.ra),e.Ka(t.H),e}function Ay(){}q=Ay.prototype;q.xa=function(){};q.wa=function(){};q.va=function(){};q.ua=function(){};q.Ra=function(){};function ba(){if(Wr&&!(10<=Number(N2)))throw Error("Environmental error: no available transport.")}ba.prototype.g=function(t,e){return new mt(t,e)};function mt(t,e){Fe.call(this),this.g=new wy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!wa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new li(this)}We(mt,Fe);mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Iy(t,null,t.V),Tu(t)};mt.prototype.close=function(){ff(this.g)};mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tf(t),t=n);e.i.push(new iE(e.ab++,t)),e.G==3&&Tu(e)};mt.prototype.M=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,mt.X.M.call(this)};function Ny(t){of.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}We(Ny,of);function Dy(){af.call(this),this.status=1}We(Dy,af);function li(t){this.g=t}We(li,Ay);li.prototype.xa=function(){He(this.g,"a")};li.prototype.wa=function(t){He(this.g,new Ny(t))};li.prototype.va=function(t){He(this.g,new Dy)};li.prototype.ua=function(){He(this.g,"b")};ba.prototype.createWebChannel=ba.prototype.g;mt.prototype.send=mt.prototype.u;mt.prototype.open=mt.prototype.m;mt.prototype.close=mt.prototype.close;wu.NO_ERROR=0;wu.TIMEOUT=8;wu.HTTP_ERROR=6;Yv.COMPLETE="complete";Xv.EventType=Ws;Ws.OPEN="a";Ws.CLOSE="b";Ws.ERROR="c";Ws.MESSAGE="d";Fe.prototype.listen=Fe.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.Oa;be.prototype.getLastErrorCode=be.prototype.Ea;be.prototype.getStatus=be.prototype.aa;be.prototype.getResponseJson=be.prototype.Sa;be.prototype.getResponseText=be.prototype.fa;be.prototype.send=be.prototype.da;be.prototype.setWithCredentials=be.prototype.Ka;var pE=function(){return new ba},mE=function(){return yu()},Pl=wu,gE=Yv,vE=cr,Mp={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yE=Qs,To=Xv,wE=be;const Op="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Cv("@firebase/firestore");function Lp(){return ir.logLevel}function K(t,...e){if(ir.logLevel<=le.DEBUG){const n=e.map(mf);ir.debug(`Firestore (${ci}): ${t}`,...n)}}function sn(t,...e){if(ir.logLevel<=le.ERROR){const n=e.map(mf);ir.error(`Firestore (${ci}): ${t}`,...n)}}function Ta(t,...e){if(ir.logLevel<=le.WARN){const n=e.map(mf);ir.warn(`Firestore (${ci}): ${t}`,...n)}}function mf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ci}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function ge(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class EE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SE{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new My(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new Ye(e)}}class kE{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class CE{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new kE(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TE{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.T=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=IE(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Kr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Le(0,0))}static max(){return new ee(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends ks{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ks{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ye.fromString(e))}static fromName(e){return new Q(ye.fromString(e).popFirst(5))}static empty(){return new Q(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ye(e.slice()))}}function AE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new Dn(i,Q.empty(),e)}function NE(t){return new Dn(t.readTime,t.key,-1)}class Dn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(ee.min(),Q.empty(),-1)}static max(){return new Dn(ee.max(),Q.empty(),-1)}}function DE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==ME)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Zs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}gf.ct=-1;function Iu(t){return t==null}function Ia(t){return t===0&&1/t==-1/0}function LE(t){return typeof t=="number"&&Number.isInteger(t)&&!Ia(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ue(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $p(this.data.getIterator())}getIteratorFrom(e){return new $p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class $p{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Re(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RE("Invalid base64 string: "+i):i}}(e);return new it(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const $E=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(t){if(ge(!!t),typeof t=="string"){let e=0;const n=$E.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $y(t){const e=t.mapValue.fields.__previous_value__;return Ry(e)?$y(e):e}function Cs(t){const e=Mn(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=l}}class bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ry(t)?4:zE(t)?9007199254740991:10:J()}function Ht(t,e){if(t===e)return!0;const n=sr(t);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cs(t).isEqual(Cs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mn(r.timestampValue),o=Mn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Gr(r.bytesValue).isEqual(Gr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ae(r.geoPointValue.latitude)===Ae(i.geoPointValue.latitude)&&Ae(r.geoPointValue.longitude)===Ae(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ae(r.integerValue)===Ae(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ae(r.doubleValue),o=Ae(i.doubleValue);return s===o?Ia(s)===Ia(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Kr(t.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Rp(s)!==Rp(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Ht(s[u],o[u])))return!1;return!0}(t,e);default:return J()}}function Ts(t,e){return(t.values||[]).find(n=>Ht(n,e))!==void 0}function Qr(t,e){if(t===e)return 0;const n=sr(t),r=sr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ae(i.integerValue||i.doubleValue),u=Ae(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return xp(t.timestampValue,e.timestampValue);case 4:return xp(Cs(t),Cs(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Gr(i),u=Gr(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=ce(o[l],u[l]);if(c!==0)return c}return ce(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(Ae(i.latitude),Ae(s.latitude));return o!==0?o:ce(Ae(i.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const c=Qr(o[l],u[l]);if(c)return c}return ce(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Po.mapValue&&s===Po.mapValue)return 0;if(i===Po.mapValue)return 1;if(s===Po.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const _=ce(u[h],c[h]);if(_!==0)return _;const y=Qr(o[u[h]],l[c[h]]);if(y!==0)return y}return ce(u.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function xp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Mn(t),r=Mn(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Yr(t){return $c(t)}function $c(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=$c(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${$c(r.fields[u])}`;return s+"}"}(t.mapValue):J();var e,n}function xc(t){return!!t&&"integerValue"in t}function vf(t){return!!t&&"arrayValue"in t}function zp(t){return!!t&&"nullValue"in t}function jp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uo(t){return!!t&&"mapValue"in t}function Xi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xi(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Xi(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _t(Xi(this.value))}}function xy(t){const e=[];return di(t.fields,(n,r)=>{const i=new Je([n]);if(Uo(r)){const s=xy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Xe(e,0,ee.min(),ee.min(),ee.min(),_t.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,ee.min(),ee.min(),_t.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,ee.min(),ee.min(),_t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.position=e,this.inclusive=n}}function Fp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Qr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ht(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n="asc"){this.field=e,this.dir=n}}function jE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{}class Me extends zy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BE(e,n,r):n==="array-contains"?new HE(e,r):n==="in"?new qE(e,r):n==="not-in"?new WE(e,r):n==="array-contains-any"?new KE(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UE(e,r):new VE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qr(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(Qr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qt extends zy{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new qt(e,n)}matches(e){return jy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jy(t){return t.op==="and"}function Fy(t){return FE(t)&&jy(t)}function FE(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function zc(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+Yr(t.value);if(Fy(t))return t.filters.map(e=>zc(e)).join(",");{const e=t.filters.map(n=>zc(n)).join(",");return`${t.op}(${e})`}}function By(t,e){return t instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&Ht(n.value,r.value)}(t,e):t instanceof qt?function(n,r){return r instanceof qt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&By(s,r.filters[o]),!0):!1}(t,e):void J()}function Uy(t){return t instanceof Me?function(e){return`${e.field.canonicalString()} ${e.op} ${Yr(e.value)}`}(t):t instanceof qt?function(e){return e.op.toString()+" {"+e.getFilters().map(Uy).join(" ,")+"}"}(t):"Filter"}class BE extends Me{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class UE extends Me{constructor(e,n){super(e,"in",n),this.keys=Vy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VE extends Me{constructor(e,n){super(e,"not-in",n),this.keys=Vy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class HE extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vf(n)&&Ts(n.arrayValue,this.value)}}class qE extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ts(this.value.arrayValue,n)}}class WE extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ts(this.value.arrayValue,n)}}class KE extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ts(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ft=null}}function Up(t,e=null,n=[],r=[],i=null,s=null,o=null){return new GE(t,e,n,r,i,s,o)}function yf(t){const e=ne(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yr(r)).join(",")),e.ft=n}return e.ft}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!By(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bp(t.startAt,e.startAt)&&Bp(t.endAt,e.endAt)}function jc(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function QE(t,e,n,r,i,s,o,u){return new Pu(t,e,n,r,i,s,o,u)}function _f(t){return new Pu(t)}function Vp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function XE(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function JE(t){return t.collectionGroup!==null}function zr(t){const e=ne(t);if(e.dt===null){e.dt=[];const n=XE(e),r=YE(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ji(n)),e.dt.push(new Ji(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ji(Je.keyField(),s))}}}return e.dt}function on(t){const e=ne(t);if(!e.wt)if(e.limitType==="F")e.wt=Up(e.path,e.collectionGroup,zr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ji(s.field,o))}const r=e.endAt?new Pa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pa(e.startAt.position,e.startAt.inclusive):null;e.wt=Up(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Fc(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return wf(on(t),on(e))&&t.limitType===e.limitType}function Hy(t){return`${yf(on(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Uy(r)).join(", ")}]`),Iu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yr(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yr(r)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Nu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of zr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=Fp(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,zr(n),r)||n.endAt&&!function(i,s,o){const u=Fp(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,zr(n),r))}(t,e)}function ZE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qy(t){return(e,n)=>{let r=!1;for(const i of zr(t)){const s=eS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eS(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?Qr(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new $e(Q.comparator);function an(){return tS}const Wy=new $e(Q.comparator);function $i(...t){let e=Wy;for(const n of t)e=e.insert(n.key,n);return e}function Ky(t){let e=Wy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qn(){return Zi()}function Gy(){return Zi()}function Zi(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const nS=new $e(Q.comparator),rS=new Re(Q.comparator);function oe(...t){let e=rS;for(const n of t)e=e.add(n);return e}const iS=new Re(ce);function Qy(){return iS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ia(e)?"-0":e}}function Xy(t){return{integerValue:""+t}}function sS(t,e){return LE(e)?Xy(e):Yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function oS(t,e,n){return t instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Is?Zy(t,e):t instanceof Ps?e0(t,e):function(r,i){const s=Jy(r,i),o=Hp(s)+Hp(r._t);return xc(s)&&xc(r._t)?Xy(o):Yy(r.serializer,o)}(t,e)}function aS(t,e,n){return t instanceof Is?Zy(t,e):t instanceof Ps?e0(t,e):n}function Jy(t,e){return t instanceof Na?xc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Aa extends Du{}class Is extends Du{constructor(e){super(),this.elements=e}}function Zy(t,e){const n=t0(e);for(const r of t.elements)n.some(i=>Ht(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ps extends Du{constructor(e){super(),this.elements=e}}function e0(t,e){let n=t0(e);for(const r of t.elements)n=n.filter(i=>!Ht(i,r));return{arrayValue:{values:n}}}class Na extends Du{constructor(e,n){super(),this.serializer=e,this._t=n}}function Hp(t){return Ae(t.integerValue||t.doubleValue)}function t0(t){return vf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uS(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Is&&r instanceof Is||n instanceof Ps&&r instanceof Ps?Kr(n.elements,r.elements,Ht):n instanceof Na&&r instanceof Na?Ht(n._t,r._t):n instanceof Aa&&r instanceof Aa}(t.transform,e.transform)}class lS{constructor(e,n){this.version=e,this.transformResults=n}}class Ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mu{}function n0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ef(t.key,Ut.none()):new eo(t.key,t.data,Ut.none());{const n=t.data,r=_t.empty();let i=new Re(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dr(t.key,r,new Lt(i.toArray()),Ut.none())}}function cS(t,e,n){t instanceof eo?function(r,i,s){const o=r.value.clone(),u=Wp(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(r,i,s){if(!Vo(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Wp(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(r0(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function es(t,e,n,r){return t instanceof eo?function(i,s,o,u){if(!Vo(i.precondition,s))return o;const l=i.value.clone(),c=Kp(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(i,s,o,u){if(!Vo(i.precondition,s))return o;const l=Kp(i.fieldTransforms,u,s),c=s.data;return c.setAll(r0(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Vo(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function dS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Jy(r.transform,i||null);s!=null&&(n===null&&(n=_t.empty()),n.set(r.field,s))}return n||null}function qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Kr(n,r,(i,s)=>uS(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eo extends Mu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dr extends Mu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function r0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wp(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,aS(o,u,n[i]))}return r}function Kp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oS(s,o,e))}return r}class Ef extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fS extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=es(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=es(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=n0(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Kr(this.mutations,e.mutations,(n,r)=>qp(n,r))&&Kr(this.baseMutations,e.baseMutations,(n,r)=>qp(n,r))}}class Sf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=nS;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ae;function gS(t){switch(t){default:return J();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function i0(t){if(t===void 0)return sn("GRPC error has no .code"),$.UNKNOWN;switch(t){case Pe.OK:return $.OK;case Pe.CANCELLED:return $.CANCELLED;case Pe.UNKNOWN:return $.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return $.INTERNAL;case Pe.UNAVAILABLE:return $.UNAVAILABLE;case Pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pe.NOT_FOUND:return $.NOT_FOUND;case Pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pe.ABORTED:return $.ABORTED;case Pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pe.DATA_LOSS:return $.DATA_LOSS;default:return J()}}(ae=Pe||(Pe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ao}static getOrCreateInstance(){return Ao===null&&(Ao=new kf),Ao}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ao=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ou(ee.min(),i,Qy(),an(),oe())}}class to{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new to(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class s0{constructor(e,n){this.targetId=e,this.Et=n}}class o0{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Gp{constructor(){this.At=0,this.Rt=Yp(),this.vt=it.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=oe(),n=oe(),r=oe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new to(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=Yp()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class vS{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=an(),this.qt=Qp(),this.Ut=new Re(ce)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(jc(o))if(i===0){const u=new Q(o.path);this.Qt(r,u,Xe.newNoDocument(u,ee.min()))}else ge(i===1);else{const u=this.Zt(r);u!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=kf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const u=this.Yt(o);if(u){if(s.current&&jc(u.target)){const l=new Q(u.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Xe.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=oe();this.qt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Ou(e,n,this.Ut,this.Lt,r);return this.Lt=an(),this.qt=Qp(),this.Ut=new Re(ce),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new Gp,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Re(ce),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Gp),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function Qp(){return new $e(Q.comparator)}function Yp(){return new $e(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),wS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_S=(()=>({and:"AND",or:"OR"}))();class ES{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Da(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SS(t,e){return Da(t,e.toTimestamp())}function Vt(t){return ge(!!t),ee.fromTimestamp(function(e){const n=Mn(e);return new Le(n.seconds,n.nanos)}(t))}function Cf(t,e){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function u0(t){const e=ye.fromString(t);return ge(f0(e)),e}function Uc(t,e){return Cf(t.databaseId,e.path)}function Al(t,e){const n=u0(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(l0(n))}function Vc(t,e){return Cf(t.databaseId,e)}function kS(t){const e=u0(t);return e.length===4?ye.emptyPath():l0(e)}function Hc(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l0(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xp(t,e,n){return{name:Uc(t,e),fields:n.value.mapValue.fields}}function CS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ge(c===void 0||typeof c=="string"),it.fromBase64String(c||"")):(ge(c===void 0||c instanceof Uint8Array),it.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?$.UNKNOWN:i0(l.code);return new Y(c,l.message||"")}(o);n=new o0(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Al(t,r.document.name),s=Vt(r.document.updateTime),o=r.document.createTime?Vt(r.document.createTime):ee.min(),u=new _t({mapValue:{fields:r.document.fields}}),l=Xe.newFoundDocument(i,s,o,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ho(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Al(t,r.document),s=r.readTime?Vt(r.readTime):ee.min(),o=Xe.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Ho([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Al(t,r.document),s=r.removedTargetIds||[];n=new Ho([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new mS(i),o=r.targetId;n=new s0(o,s)}}return n}function bS(t,e){let n;if(e instanceof eo)n={update:Xp(t,e.key,e.value)};else if(e instanceof Ef)n={delete:Uc(t,e.key)};else if(e instanceof dr)n={update:Xp(t,e.key,e.data),updateMask:LS(e.fieldMask)};else{if(!(e instanceof fS))return J();n={verify:Uc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ps)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Na)return{fieldPath:s.field.canonicalString(),increment:o._t};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:SS(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function TS(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Vt(r.updateTime):Vt(i);return s.isEqual(ee.min())&&(s=Vt(i)),new lS(s,r.transformResults||[])}(n,e))):[]}function IS(t,e){return{documents:[Vc(t,e.path)]}}function PS(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Vc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return d0(qt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:gr(h.field),direction:DS(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.useProto3Json||Iu(c)?c:{value:c}}(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function AS(t){let e=kS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const _=c0(h);return _ instanceof qt&&Fy(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(_){return new Ji(vr(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h)));let u=null;n.limit&&(u=function(h){let _;return _=typeof h=="object"?h.value:h,Iu(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(h){const _=!!h.before,y=h.values||[];return new Pa(y,_)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const _=!h.before,y=h.values||[];return new Pa(y,_)}(n.endAt)),QE(e,i,o,s,u,"F",l,c)}function NS(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function c0(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=vr(e.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=vr(e.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vr(e.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vr(e.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(e){return Me.create(vr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qt.create(e.compositeFilter.filters.map(n=>c0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function DS(t){return yS[t]}function MS(t){return wS[t]}function OS(t){return _S[t]}function gr(t){return{fieldPath:t.canonicalString()}}function vr(t){return Je.fromServerFormat(t.fieldPath)}function d0(t){return t instanceof Me?function(e){if(e.op==="=="){if(jp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NAN"}};if(zp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NAN"}};if(zp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(e.field),op:MS(e.op),value:e.value}}}(t):t instanceof qt?function(e){const n=e.getFilters().map(r=>d0(r));return n.length===1?n[0]:{compositeFilter:{op:OS(e.op),filters:n}}}(t):J()}function LS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s=ee.min(),o=ee.min(),u=it.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.se=e}}function $S(t){const e=AS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.He=new zS}addToCollectionParentIndex(e,n){return this.He.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Dn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class zS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Xr(0)}static bn(){return new Xr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&es(r.mutation,i,Lt.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Qn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$i();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=an();const o=Zi(),u=Zi();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof dr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),es(h.mutation,c,h.mutation.getFieldMask(),Le.now())):o.set(c.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var _;return u.set(c,new FS(h,(_=o.get(c))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Zi();let i=new $e((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Lt.empty();h=u.applyToLocalView(c,h),r.set(l,h);const _=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,_=Gy();h.forEach(y=>{if(!s.has(y)){const T=n0(n.get(y),r.get(y));T!==null&&_.set(y,T),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,_))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Qn());let u=-1,l=s;return o.next(c=>x.forEach(c,(h,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:u,changes:Ky(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=$i();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=$i();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,u=>{const l=function(c,h){return new Pu(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((h,_)=>{s=s.insert(h,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Xe.newInvalidDocument(c)))});let o=$i();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&es(c.mutation,l,Lt.empty(),Le.now()),Nu(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Vt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:$S(r.bundledQuery),readTime:Vt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new $e(Q.comparator),this.ts=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Qn(),s=n.length+1,o=new Q(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Qn(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=Qn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=i)););return x.resolve(u)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pS(n,r));let s=this.ts.get(n);s===void 0&&(s=oe(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.es=new Re(ze.ns),this.ss=new Re(ze.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new ze(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new ze(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new Q(new ye([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new Q(new ye([])),r=new ze(n,e),i=new ze(n,e+1);let s=oe();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return Q.comparator(e.key,n.key)||ce(e.ds,n.ds)}static rs(e,n){return ce(e.ds,n.ds)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Re(ze.ns)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hS(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this._s=this._s.add(new ze(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const u=this.gs(o.ds);s.push(u)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(ce);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],u=>{r=r.add(u.ds)})}),x.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ze(new Q(s),0);let u=new Re(ce);return this._s.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.ds)),!0)},o),x.resolve(this.ps(u))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return x.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new ze(n,0),i=this._s.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.Ts=e,this.docs=new $e(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=an();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=an();const o=n.path,u=new Q(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||DE(NE(h),r)<=0||(i.has(h.key)||Nu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Es(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WS(this)}getSize(e){return x.resolve(this.size)}}class WS extends jS{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.persistence=e,this.As=new fi(n=>yf(n),wf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Rs=0,this.vs=new bf,this.targetCount=0,this.bs=Xr.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),x.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Xr(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Sn(n),x.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new gf(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new KS(this),this.indexManager=new xS,this.remoteDocumentCache=function(r){return new qS(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new RS(n),this.xs=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new HS(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new QS(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return x.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class QS extends OE{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.$s=new bf,this.Ms=null}static Fs(e){return new Tf(e)}get Bs(){if(this.Ms)return this.Ms;throw J()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),x.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Bs,r=>{const i=Q.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return x.or([()=>x.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new If(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(Vp(n))return x.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fc(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.xi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.$i(n,u);return this.Mi(n,c,o,l.readTime)?this.Ni(e,Fc(n,null,"F")):this.Fi(e,c,n,l)}))})))}ki(e,n,r,i){return Vp(n)||i.isEqual(ee.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(Lp()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(n)),this.Fi(e,o,n,AE(i,-1)))})}$i(e,n){let r=new Re(qy(e));return n.forEach((i,s)=>{Nu(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Lp()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.xi.getDocumentsMatchingQuery(e,n,Dn.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new $e(ce),this.qi=new fi(s=>yf(s),wf),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BS(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function JS(t,e,n,r){return new XS(t,e,n,r)}async function h0(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:u}))})})}function ZS(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){const h=l.batch,_=h.keys();let y=x.resolve();return _.forEach(T=>{y=y.next(()=>c.getEntry(u,T)).next(P=>{const C=l.docVersions.get(T);ge(C!==null),P.version.compareTo(C)<0&&(h.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),c.addEntry(P)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function p0(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function ek(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const u=[];e.targetChanges.forEach((h,_)=>{const y=i.get(_);if(!y)return;u.push(n.Ds.removeMatchingKeys(s,h.removedDocuments,_).next(()=>n.Ds.addMatchingKeys(s,h.addedDocuments,_)));let T=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?T=T.withResumeToken(it.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(_,T),function(P,C,v){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(y,T,h)&&u.push(n.Ds.updateTargetData(s,T))});let l=an(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(tk(s,o,e.documentUpdates).next(h=>{l=h.zi,c=h.ji})),!r.isEqual(ee.min())){const h=n.Ds.getLastRemoteSnapshotVersion(s).next(_=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return x.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Li=i,s))}function tk(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=an();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):K("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:i}})}function nk(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rk(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Zn(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function qc(t,e,n){const r=ne(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Zs(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function Jp(t,e,n){const r=ne(t);let i=ee.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const h=ne(u),_=h.qi.get(c);return _!==void 0?x.resolve(h.Li.get(_)):h.Ds.getTargetData(l,c)}(r,o,on(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:oe())).next(u=>(ik(r,ZE(e),u),{documents:u,Wi:s})))}function ik(t,e,n){let r=t.Ui.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class Zp{constructor(){this.activeTargetIds=Qy()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.Br=new Zp,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Zp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No=null;function Nl(){return No===null?No=268435456+Math.round(2147483648*Math.random()):No++,"0x"+No.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class lk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Nl(),u=this.ao(e,n);K("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.ho(l,i,s),this.lo(e,u,l,r).then(c=>(K("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ta("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",r),c})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=ak[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Nl();return new Promise((o,u)=>{const l=new wE;l.setWithCredentials(!0),l.listenOnce(gE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pl.NO_ERROR:const h=l.getResponseJson();K(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Pl.TIMEOUT:K(Ge,`RPC '${e}' ${s} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const _=l.getStatus();if(K(Ge,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const P=function(C){const v=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(T.status);u(new Y(P,T.message))}else u(new Y($.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{K(Ge,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Ge,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}wo(e,n,r){const i=Nl(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pE(),u=mE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new yE({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(Ge,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let _=!1,y=!1;const T=new uk({Wr:C=>{y?K(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(K(Ge,`Opening RPC '${e}' stream ${i} transport.`),h.open(),_=!0),K(Ge,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Hr:()=>h.close()}),P=(C,v,m)=>{C.listen(v,g=>{try{m(g)}catch(b){setTimeout(()=>{throw b},0)}})};return P(h,To.EventType.OPEN,()=>{y||K(Ge,`RPC '${e}' stream ${i} transport opened.`)}),P(h,To.EventType.CLOSE,()=>{y||(y=!0,K(Ge,`RPC '${e}' stream ${i} transport closed`),T.so())}),P(h,To.EventType.ERROR,C=>{y||(y=!0,Ta(Ge,`RPC '${e}' stream ${i} transport errored:`,C),T.so(new Y($.UNAVAILABLE,"The operation could not be completed")))}),P(h,To.EventType.MESSAGE,C=>{var v;if(!y){const m=C.data[0];ge(!!m);const g=m,b=g.error||((v=g[0])===null||v===void 0?void 0:v.error);if(b){K(Ge,`RPC '${e}' stream ${i} received error:`,b);const a=b.status;let f=function(p){const w=Pe[p];if(w!==void 0)return i0(w)}(a),d=b.message;f===void 0&&(f=$.INTERNAL,d="Unknown error status: "+a+" with message "+b.message),y=!0,T.so(new Y(f,d)),h.close()}else K(Ge,`RPC '${e}' stream ${i} received:`,m),T.io(m)}}),P(u,vE.STAT_EVENT,C=>{C.stat===Mp.PROXY?K(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Mp.NOPROXY&&K(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.no()},0),T}}function Dl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){return new ES(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,i,s,o,u,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new m0(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ck extends g0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=CS(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Vt(s.readTime):ee.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Hc(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;return o=jc(u)?{documents:IS(i,u)}:{query:PS(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=a0(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Da(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=NS(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Hc(this.serializer),n.removeTarget=e,this.Fo(n)}}class dk extends g0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=TS(e.writeResults,e.commitTime),r=Vt(e.commitTime);return this.listener.Zo(r,n)}return ge(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Hc(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bS(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y($.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class hk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(sn(n),this.ru=!1):K("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{fr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ne(u);l.du.add(4),await no(l),l.mu.set("Unknown"),l.du.delete(4),await Ru(l)}(this))})}),this.mu=new hk(r,i)}}async function Ru(t){if(fr(t))for(const e of t.wu)await e(!0)}async function no(t){for(const e of t.wu)await e(!1)}function v0(t,e){const n=ne(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Nf(n)?Af(n):hi(n).No()&&Pf(n,e))}function y0(t,e){const n=ne(t),r=hi(n);n.fu.delete(e),r.No()&&w0(n,e),n.fu.size===0&&(r.No()?r.$o():fr(n)&&n.mu.set("Unknown"))}function Pf(t,e){t.gu.Ot(e.targetId),hi(t).jo(e)}function w0(t,e){t.gu.Ot(e),hi(t).Wo(e)}function Af(t){t.gu=new vS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),hi(t).start(),t.mu.ou()}function Nf(t){return fr(t)&&!hi(t).xo()&&t.fu.size>0}function fr(t){return ne(t).du.size===0}function _0(t){t.gu=void 0}async function mk(t){t.fu.forEach((e,n)=>{Pf(t,e)})}async function gk(t,e){_0(t),Nf(t)?(t.mu.au(e),Af(t)):t.mu.set("Unknown")}async function vk(t,e,n){if(t.mu.set("Online"),e instanceof o0&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ma(t,r)}else if(e instanceof Ho?t.gu.Kt(e):e instanceof s0?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ee.min()))try{const r=await p0(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.fu.get(l);c&&i.fu.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const l=i.fu.get(u);if(!l)return;i.fu.set(u,l.withResumeToken(it.EMPTY_BYTE_STRING,l.snapshotVersion)),w0(i,u);const c=new Zn(l.target,u,1,l.sequenceNumber);Pf(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Ma(t,r)}}async function Ma(t,e,n){if(!Zs(e))throw e;t.du.add(1),await no(t),t.mu.set("Offline"),n||(n=()=>p0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Ru(t)})}function E0(t,e){return e().catch(n=>Ma(t,n,e))}async function $u(t){const e=ne(t),n=On(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;yk(e);)try{const i=await nk(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,wk(e,i)}catch(i){await Ma(e,i)}S0(e)&&k0(e)}function yk(t){return fr(t)&&t.lu.length<10}function wk(t,e){t.lu.push(e);const n=On(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function S0(t){return fr(t)&&!On(t).xo()&&t.lu.length>0}function k0(t){On(t).start()}async function _k(t){On(t).tu()}async function Ek(t){const e=On(t);for(const n of t.lu)e.Yo(n.mutations)}async function Sk(t,e,n){const r=t.lu.shift(),i=Sf.from(r,e,n);await E0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $u(t)}async function kk(t,e){e&&On(t).Jo&&await async function(n,r){if(i=r.code,gS(i)&&i!==$.ABORTED){const s=n.lu.shift();On(n).Oo(),await E0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await $u(n)}var i}(t,e),S0(t)&&k0(t)}async function tm(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=fr(n);n.du.add(3),await no(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Ru(n)}async function Ck(t,e){const n=ne(t);e?(n.du.delete(2),await Ru(n)):e||(n.du.add(2),await no(n),n.mu.set("Unknown"))}function hi(t){return t.yu||(t.yu=function(e,n,r){const i=ne(e);return i.nu(),new ck(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:mk.bind(null,t),Zr:gk.bind(null,t),zo:vk.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Nf(t)?Af(t):t.mu.set("Unknown")):(await t.yu.stop(),_0(t))})),t.yu}function On(t){return t.pu||(t.pu=function(e,n,r){const i=ne(e);return i.nu(),new dk(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:_k.bind(null,t),Zr:kk.bind(null,t),Xo:Ek.bind(null,t),Zo:Sk.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await $u(t)):(await t.pu.stop(),t.lu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new Df(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(t,e){if(sn("AsyncQueue",`${e}: ${t}`),Zs(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=$i(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new jr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.Iu=new $e(Q.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):J():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jr{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Jr(e,n,jr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Eu=void 0,this.listeners=[]}}class Tk{constructor(){this.queries=new fi(e=>Hy(e),Au),this.onlineState="Unknown",this.Au=new Set}}async function Ik(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bk),i)try{s.Eu=await n.onListen(r)}catch(o){const u=Mf(o,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Of(n)}async function Pk(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ak(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.vu(i)&&(r=!0);o.Eu=i}}r&&Of(n)}function Nk(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Of(t){t.Au.forEach(e=>{e.next()})}class Dk{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.key=e}}class b0{constructor(e){this.key=e}}class Mk{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=oe(),this.mutatedKeys=oe(),this.Ku=qy(e),this.Gu=new jr(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new nm,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,_)=>{const y=i.get(h),T=Nu(this.query,_)?_:null,P=!!y&&this.mutatedKeys.has(y.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let v=!1;y&&T?y.data.isEqual(T.data)?P!==C&&(r.track({type:3,doc:T}),v=!0):this.Wu(y,T)||(r.track({type:2,doc:T}),v=!0,(l&&this.Ku(T,l)>0||c&&this.Ku(T,c)<0)&&(u=!0)):!y&&T?(r.track({type:0,doc:T}),v=!0):y&&!T&&(r.track({type:1,doc:y}),v=!0,(l||c)&&(u=!0)),v&&(T?(o=o.add(T),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Gu:o,ju:r,Mi:u,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((c,h)=>function(_,y){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return T(_)-T(y)}(c.type,h.type)||this.Ku(c.doc,h.doc)),this.Hu(r);const o=n?this.Ju():[],u=this.Uu.size===0&&this.current?1:0,l=u!==this.qu;return this.qu=u,s.length!==0||l?{snapshot:new Jr(this.query,e.Gu,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new nm,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=oe(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new b0(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new C0(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=oe();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Jr.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class Ok{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lk{constructor(e){this.key=e,this.ec=!1}}class Rk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new fi(u=>Hy(u),Au),this.ic=new Map,this.rc=new Set,this.oc=new $e(Q.comparator),this.uc=new Map,this.cc=new bf,this.ac={},this.hc=new Map,this.lc=Xr.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function $k(t,e){const n=Wk(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await rk(n.localStore,on(e));n.isPrimaryClient&&v0(n.remoteStore,o);const u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await xk(n,e,r,u==="current",o.resumeToken)}return i}async function xk(t,e,n,r,i){t.dc=(_,y,T)=>async function(P,C,v,m){let g=C.view.zu(v);g.Mi&&(g=await Jp(P.localStore,C.query,!1).then(({documents:f})=>C.view.zu(f,g)));const b=m&&m.targetChanges.get(C.targetId),a=C.view.applyChanges(g,P.isPrimaryClient,b);return im(P,C.targetId,a.Yu),a.snapshot}(t,_,y,T);const s=await Jp(t.localStore,e,!0),o=new Mk(e,s.Wi),u=o.zu(s.documents),l=to.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);im(t,n,c.Yu);const h=new Ok(e,n,o);return t.sc.set(e,h),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function zk(t,e){const n=ne(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Au(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),y0(n.remoteStore,r.targetId),Wc(n,r.targetId)}).catch(Js)):(Wc(n,r.targetId),await qc(n.localStore,r.targetId,!0))}async function jk(t,e,n){const r=Kk(t);try{const i=await function(s,o){const u=ne(s),l=Le.now(),c=o.reduce((y,T)=>y.add(T.key),oe());let h,_;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=an(),P=oe();return u.Ki.getEntries(y,c).next(C=>{T=C,T.forEach((v,m)=>{m.isValidDocument()||(P=P.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(C=>{h=C;const v=[];for(const m of o){const g=dS(m,h.get(m.key).overlayedDocument);g!=null&&v.push(new dr(m.key,g,xy(g.value.mapValue),Ut.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,v,o)}).next(C=>{_=C;const v=C.applyToLocalDocumentSet(h,P);return u.documentOverlayCache.saveOverlays(y,C.batchId,v)})}).then(()=>({batchId:_.batchId,changes:Ky(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.ac[s.currentUser.toKey()];l||(l=new $e(ce)),l=l.insert(o,u),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await ro(r,i.changes),await $u(r.remoteStore)}catch(i){const s=Mf(i,"Failed to persist write");n.reject(s)}}async function T0(t,e){const n=ne(t);try{const r=await ek(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?ge(o.ec):i.removedDocuments.size>0&&(ge(o.ec),o.ec=!1))}),await ro(n,r,e)}catch(r){await Js(r)}}function rm(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const u=o.view.Ru(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let l=!1;u.queries.forEach((c,h)=>{for(const _ of h.listeners)_.Ru(o)&&(l=!0)}),l&&Of(u)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fk(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new $e(Q.comparator);o=o.insert(s,Xe.newNoDocument(s,ee.min()));const u=oe().add(s),l=new Ou(ee.min(),new Map,new Re(ce),o,u);await T0(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Lf(r)}else await qc(r.localStore,e,!1).then(()=>Wc(r,e,n)).catch(Js)}async function Bk(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await ZS(n.localStore,e);P0(n,r,null),I0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ro(n,i)}catch(i){await Js(i)}}async function Uk(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(h=>(ge(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);P0(r,e,n),I0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ro(r,i)}catch(i){await Js(i)}}function I0(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function P0(t,e,n){const r=ne(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Wc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||A0(t,r)})}function A0(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(y0(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Lf(t))}function im(t,e,n){for(const r of n)r instanceof C0?(t.cc.addReference(r.key,e),Vk(t,r)):r instanceof b0?(K("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||A0(t,r.key)):J()}function Vk(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.rc.add(r),Lf(t))}function Lf(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Q(ye.fromString(e)),r=t.lc.next();t.uc.set(r,new Lk(n)),t.oc=t.oc.insert(n,r),v0(t.remoteStore,new Zn(on(_f(n.path)),r,2,gf.ct))}}async function ro(t,e,n){const r=ne(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((u,l)=>{o.push(r.dc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=If.Di(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.nc.zo(i),await async function(u,l){const c=ne(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>x.forEach(l,_=>x.forEach(_.Vi,y=>c.persistence.referenceDelegate.addReference(h,_.targetId,y)).next(()=>x.forEach(_.Si,y=>c.persistence.referenceDelegate.removeReference(h,_.targetId,y)))))}catch(h){if(!Zs(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const _=h.targetId;if(!h.fromCache){const y=c.Li.get(_),T=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(T);c.Li=c.Li.insert(_,P)}}}(r.localStore,s))}async function Hk(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await h0(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(u=>{u.reject(new Y($.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ro(n,r.Qi)}}function qk(t,e){const n=ne(t),r=n.uc.get(e);if(r&&r.ec)return oe().add(r.key);{let i=oe();const s=n.ic.get(e);if(!s)return i;for(const o of s){const u=n.sc.get(o);i=i.unionWith(u.view.Qu)}return i}}function Wk(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fk.bind(null,e),e.nc.zo=Ak.bind(null,e.eventManager),e.nc.wc=Nk.bind(null,e.eventManager),e}function Kk(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,e),e}class sm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JS(this.persistence,new YS,e.initialUser,this.serializer)}createPersistence(e){return new GS(Tf.Fs,this.serializer)}createSharedClientState(e){return new sk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await Ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tk}createDatastore(e){const n=Lu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new lk(i));var i;return function(s,o,u,l){return new fk(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>rm(this.syncEngine,u,0),o=em.D()?new em:new ok,new pk(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,c){const h=new Rk(r,i,s,o,u,l);return c&&(h.fc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);K("RemoteStore","RemoteStore shutting down."),n.du.add(5),await no(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Oy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ml(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await h0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function om(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jk(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>tm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>tm(e.remoteStore,s)),t._onlineComponents=e}function Xk(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Jk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ml(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Xk(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Ml(t,new sm)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Ml(t,new sm);return t._offlineComponents}async function N0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await om(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await om(t,new Gk))),t._onlineComponents}function Zk(t){return N0(t).then(e=>e.syncEngine)}async function am(t){const e=await N0(t),n=e.eventManager;return n.onListen=$k.bind(null,e.syncEngine),n.onUnlisten=zk.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eC(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lm(t){if(!Q.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cm(t){if(Q.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _E;switch(n.type){case"firstParty":return new CE(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=um.get(e);n&&(K("ComponentProvider","Removing Datastore"),um.delete(e),n.terminate())}(this),Promise.resolve()}}function tC(t,e,n,r={}){var i;const s=(t=Fr(t,xu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Ye.MOCK_USER;else{o=i8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new EE(new My(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class zu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zu(this.firestore,e,this._query)}}class bn extends zu{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Q(e))}withConverter(e){return new bn(this.firestore,e,this._path)}}function nC(t,e,...n){if(t=qr(t),D0("collection","path",e),t instanceof xu){const r=ye.fromString(e,...n);return cm(r),new bn(t,null,r)}{if(!(t instanceof St||t instanceof bn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return cm(r),new bn(t.firestore,null,r)}}function M0(t,e,...n){if(t=qr(t),arguments.length===1&&(e=Oy.A()),D0("doc","path",e),t instanceof xu){const r=ye.fromString(e,...n);return lm(r),new St(t,null,new Q(r))}{if(!(t instanceof St||t instanceof bn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return lm(r),new St(t.firestore,t instanceof bn?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new m0(this,"async_queue_retry"),this.qc=()=>{const n=Dl();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Dl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Dl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Jn;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Zs(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Df.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&J()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function fm(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends xu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L0(this),this._firestoreClient.terminate()}}function iC(t,e){const n=typeof t=="object"?t:u2(),r=typeof t=="string"?t:e||"(default)",i=i2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=t8("firestore");s&&tC(i,...s)}return i}function O0(t){return t._firestoreClient||L0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L0(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,c){return new xE(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Yk(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(it.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/^__.*__$/;class oC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new eo(e,this.data,n,this.fieldTransforms)}}function $0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class zf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Oa(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if($0(this.Yc)&&sC.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class aC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lu(e)}ua(e,n,r,i=!1){return new zf({Yc:e,methodName:n,oa:r,path:Je.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uC(t){const e=t._freezeSettings(),n=Lu(t._databaseId);return new aC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lC(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);F0("Data must be an object, but it was:",o,r);const u=z0(r,o);let l,c;if(s.merge)l=new Lt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const _ of s.mergeFields){const y=cC(e,_,n);if(!o.contains(y))throw new Y($.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);fC(h,y)||h.push(y)}l=new Lt(h),c=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,c=o.fieldTransforms;return new oC(new _t(u),l,c)}function x0(t,e){if(j0(t=qr(t)))return F0("Unsupported field value:",e,t),z0(t,e);if(t instanceof R0)return function(n,r){if(!$0(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=x0(o,r.sa(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=qr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sS(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Le.fromDate(n);return{timestampValue:Da(r.serializer,i)}}if(n instanceof Le){const i=new Le(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Da(r.serializer,i)}}if(n instanceof xf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:a0(r.serializer,n._byteString)};if(n instanceof St){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Rf(n)}`)}(t,e)}function z0(t,e){const n={};return Ly(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{const s=x0(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function j0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof xf||t instanceof Zr||t instanceof St||t instanceof R0)}function F0(t,e,n){if(!j0(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Rf(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function cC(t,e,n){if((e=qr(e))instanceof $f)return e._internalPath;if(typeof e=="string")return B0(t,e);throw Oa("Field path arguments must be of type string or ",t,!1,void 0,n)}const dC=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(dC)>=0)throw Oa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw Oa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oa(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y($.INVALID_ARGUMENT,u+t+l)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(V0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hC extends U0{data(){return super.data()}}function V0(t,e){return typeof e=="string"?B0(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mC{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){const r={};return di(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xf(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$y(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cs(e));default:return null}}convertTimestamp(e){const n=Mn(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);ge(f0(r));const i=new bs(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H0 extends U0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(V0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qo extends H0{data(e={}){return super.data(e)}}class vC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qo(this._firestore,this._userDataWriter,r.key,r,new xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new qo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new qo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:yC(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class q0 extends mC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function wC(t){return W0(Fr(t.firestore,As),[new Ef(t._key,Ut.none())])}function _C(t,e){const n=Fr(t.firestore,As),r=M0(t),i=gC(t.converter,e);return W0(n,[lC(uC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ut.exists(!1))]).then(()=>r)}function EC(t,...e){var n,r,i;t=qr(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||fm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(fm(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let l,c,h;if(t instanceof St)c=Fr(t.firestore,As),h=_f(t._key.path),l={next:_=>{e[o]&&e[o](SC(c,t,_))},error:e[o+1],complete:e[o+2]};else{const _=Fr(t,zu);c=Fr(_.firestore,As),h=_._query;const y=new q0(c);l={next:T=>{e[o]&&e[o](new vC(c,y,_,T))},error:e[o+1],complete:e[o+2]},pC(t._query)}return function(_,y,T,P){const C=new Qk(P),v=new Dk(y,C,T);return _.asyncQueue.enqueueAndForget(async()=>Ik(await am(_),v)),()=>{C.yc(),_.asyncQueue.enqueueAndForget(async()=>Pk(await am(_),v))}}(O0(c),h,u,l)}function W0(t,e){return function(n,r){const i=new Jn;return n.asyncQueue.enqueueAndForget(async()=>jk(await Zk(n),r,i)),i.promise}(O0(t),e)}function SC(t,e,n){const r=n.docs.get(e._key),i=new q0(t);return new H0(t,i,e._key,r,new xi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ci=n})(a2),va(new gs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new As(new SE(n.getProvider("auth-internal")),new TE(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xr(Op,"3.10.1",t),xr(Op,"3.10.1","esm2017")})();var kC="firebase",CC="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(kC,CC,"app");const bC={apiKey:"AIzaSyD_uXh8KfNe11S8qhfQuB_RAzIHrKFTOHE",authDomain:"react-notes-7a013.firebaseapp.com",projectId:"react-notes-7a013",storageBucket:"react-notes-7a013.appspot.com",messagingSenderId:"370854322953",appId:"1:370854322953:web:3e20fb09a3b7f61fc329d8"},TC=Iv(bC),K0=iC(TC),hm=nC(K0,"notes");function IC(){const[t,e]=Qt.useState([]),[n,r]=Qt.useState(""),[i,s]=Qt.useState(""),o=t.find(c=>c.id===n)||t[0],u=t.sort((c,h)=>h.updatedAt-c.updatedAt);Qt.useEffect(()=>EC(hm,function(h){const _=h.docs.map(y=>({...y.data(),id:y.id}));e(_)}),[]),Qt.useEffect(()=>{var c;n||r((c=t[0])==null?void 0:c.id)},[t]),Qt.useEffect(()=>{o&&s(o.body)},[o])/async function(){const h={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},_=await _C(hm,h);r(_.id)};async function l(c){const h=M0(K0,"notes",c);await wC(h)}return De.jsx("main",{children:t.length>0?De.jsxs(qd,{sizes:[30,70],direction:"horizontal",className:"split",children:[De.jsx(i3,{notes:u,currentNote:o,setCurrentNoteId:r,newNote:createNewNote,deleteNote:l}),De.jsx($_,{tempNoteText:i,setTempNoteText:s})]}):De.jsxs("div",{className:"no-notes",children:[De.jsx("h1",{children:"You have no notes"}),De.jsx("button",{className:"first-note",onClick:createNewNote,children:"Create one now"})]})})}r3.render(De.jsx(IC,{}),document.getElementById("root"));
